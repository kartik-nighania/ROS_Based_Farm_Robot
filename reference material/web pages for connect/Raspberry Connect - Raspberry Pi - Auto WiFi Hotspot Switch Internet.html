<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html prefix="og: http://ogp.me/ns#" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-gb" dir="ltr" slick-uniqueid="3" lang="en-gb"><head>
          
            <!-- base href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet" -->
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="keywords" content="access point, hotspot, ap, ssh, vnc, raspberry pi, rpi, raspberryconnect, rpi3, rpi2, zero, zero w, autoswitch, autohotspot">
  <meta name="title" content="Raspberry Pi - Auto WiFi Hotspot Switch Internet">
  <meta property="og:url" content="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet">
  <meta property="og:title" content="Raspberry Connect - Raspberry Pi - Auto WiFi Hotspot Switch Internet">
  <meta property="og:type" content="article">
  <meta property="og:image" content="http://www.raspberryconnect.com/media/k2/items/cache/2cd9d1d7bb30511eb4cd517c131ae148_S.jpg">
  <meta name="image" content="http://www.raspberryconnect.com/media/k2/items/cache/2cd9d1d7bb30511eb4cd517c131ae148_S.jpg">
  <meta property="og:description" content="Switch between network wifi and a internet hotspot for the Raspbery Pi without a reboot. Use you Raspberry Pi on the move.">
  <meta name="description" content="Switch between network wifi and a internet hotspot for the Raspbery Pi without a reboot. Use you Raspberry Pi on the move.">
  <title>Raspberry Connect - Raspberry Pi - Auto WiFi Hotspot Switch Internet</title>
  <link href="http://www.raspberryconnect.com/templates/raspconnect2/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon">
  <link rel="stylesheet" href="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/magnific-popup.css" type="text/css">
  <link rel="stylesheet" href="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/k2.css" type="text/css">
  <link rel="stylesheet" href="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/k2_002.css" type="text/css">
  <script id="twitter-wjs" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/widgets.js"></script><script src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/cbgapi.loaded_1" async=""></script><script src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/cbgapi.loaded_0" async=""></script><script type="text/javascript" async="" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/plusone.js" gapi_processed="true"></script><script id="facebook-jssdk" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/all.js"></script><script type="text/javascript" async="" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/ga.js"></script><script type="text/javascript" async="" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/recaptcha__en.js"></script><script src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/jquery.js" type="text/javascript"></script>
  <script src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/jquery-noconflict.js" type="text/javascript"></script>
  <script src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/jquery-migrate.js" type="text/javascript"></script>
  <script src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/jquery_002.js" type="text/javascript"></script>
  <script src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/k2.js" type="text/javascript"></script>
  <script src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/api.js" type="text/javascript"></script>
  <script src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/bootstrap.js" type="text/javascript"></script>
  <script src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/mootools-core.js" type="text/javascript"></script>
  <script src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/core.js" type="text/javascript"></script>
  <script src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/mootools-more.js" type="text/javascript"></script>
  <script type="text/javascript">
function onK2RecaptchaLoaded(){grecaptcha.render("recaptcha", {"sitekey" : "6Lcbtt4SAAAAAG_J-tXSdYtyVqTQ4a5KjBPLqvfK"});}
jQuery(document).ready(function(){
	jQuery('.hasTooltip').tooltip({"html": true,"container": "body"});
});
  </script>

          
                <link rel="stylesheet" href="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/system.css" type="text/css">
                <link rel="stylesheet" href="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/position.css" type="text/css" media="screen,projection">
                <link rel="stylesheet" href="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/layout.css" type="text/css" media="screen,projection">
                <link rel="stylesheet" href="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/print.css" type="text/css" media="print">
                <link rel="stylesheet" href="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/general.css" type="text/css">
                <link rel="stylesheet" href="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/general_mozilla.css" type="text/css">
                <link rel="stylesheet" href="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/personal.css" type="text/css">
                <!--[if lte IE 6]>
                <link href="/templates/raspconnect2/css/ieonly.css" rel="stylesheet" type="text/css" />

                                <style type="text/css">
                #line
                {      width:98% ;
                }
                .logoheader
                {
                        height:200px;

                }
                #header ul.menu
                {
                display:block !important;
                      width:98.2% ;


                }
                 </style>
                                <![endif]-->
                <!--[if IE 7]>
                        <link href="/templates/raspconnect2/css/ie7only.css" rel="stylesheet" type="text/css" />
                <![endif]-->
                <script type="text/javascript" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/hide.js"></script>

                <script type="text/javascript">
                        var big ='72%';
                        var small='53%';
                  /* Disable right menu collapse option 1 of 3 
                  var altopen='is open';
                  var altclose='is closed'; */
                        var bildauf='/templates/raspconnect2/images/plus.png';
                        var bildzu='/templates/raspconnect2/images/minus.png';
                  /*    Disable right menu collapse option 2 of 3 
                  var rightopen='Open info';
                  var rightclose='Close info'; */
   
                  /*                  var fontSizeTitle='Font size';
                        var bigger='Bigger';
                        var reset='Reset';
                        var smaller='Smaller';
                        var biggerTitle='Increase size';
                        var resetTitle='Revert styles to default';
                        var smallerTitle='Decrease size';
                  */
                </script>
          <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37960809-1']);
  _gaq.push(['_setDomainName', 'raspberryconnect.com']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

        <script type="text/javascript" charset="utf-8" async="" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/button.js"></script><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_loader{background-color:#f6f7f9;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{width:auto;height:auto;min-height:initial;min-width:initial;background:none}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{color:#fff;display:block;padding-top:20px;clear:both;font-size:18px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;bottom:0;left:0;right:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #29487d;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f6f7f9;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-repeat:no-repeat;background-position:50% 50%;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}
.fb_invisible_flow{display:inherit;height:0;overflow-x:hidden;width:0}.fb_mobile_overlay_active{height:100%;overflow:hidden;position:fixed;width:100%}.fb_shrink_active{opacity:1;transform:scale(1, 1);transition-duration:200ms;transition-timing-function:ease-out}.fb_shrink_active:active{opacity:.5;transform:scale(.75, .75)}</style></head>

        <body>

          <div id="all">
        <div id="back">
                <div id="header">
                                <div class="logoheader">
                                        <h1 id="logo">

                                                                        
                                                                        
                                                        <span class="header1">
                                        Projects of the Raspberry Pi Community.                                        </span></h1>
                                </div><!-- end logoheader -->
                                        <ul class="skiplinks">
                                                <li><a href="#main" class="u2">Skip to content</a></li>
                                                <li><a href="#nav" class="u2">Jump to main navigation and login</a></li>
                                                                                        <li><a href="#additional" class="u2">Jump to additional information</a></li>
                                                                                   </ul>
                                        <h2 class="unseen">Nav view search</h2>
                                        <h3 class="unseen">Navigation</h3>
                                        <ul class="nav menu">
<li class="item-101"><a href="http://www.raspberryconnect.com/">Home</a></li><li class="item-186"><a href="http://www.raspberryconnect.com/about-raspberryconnect">About</a></li><li class="item-124"><a href="http://www.raspberryconnect.com/user-projects">RPi Projects</a></li><li class="item-127"><a href="http://www.raspberryconnect.com/software">Software</a></li><li class="item-128"><a href="http://www.raspberryconnect.com/webdirectory">Web Directory</a></li><li class="item-160"><a href="http://www.raspberryconnect.com/mainsearch">Search</a></li></ul>

                                       
                                        <div id="line">
                                                                                
                                      <h3 class="unseen">Search</h3>
                                        
                                        </div><!-- end line -->


                        </div><!-- end header -->
                        <div id="contentarea2">
                                        <div id="breadcrumbs">

                                                        

                                        </div>

                                        

                                                        <div class="left1 " id="nav" role="navigation">
                                                   <div class="moduletable">
 <h3><span class="backh"><span class="backh2"><span class="backh3">RPi Projects</span></span></span></h3>
 <ul class="nav menu">
<li class="item-149"><a href="http://www.raspberryconnect.com/rpi-projects">RPi Projects</a></li><li class="item-187"><a href="http://www.raspberryconnect.com/in-the-classroom">Classroom Projects</a></li><li class="item-133"><a href="http://www.raspberryconnect.com/pi-base">Pi Base</a></li><li class="item-168"><a href="http://www.raspberryconnect.com/idonethat">I've Done That</a></li><li class="item-131"><a href="http://www.raspberryconnect.com/audio">Audio</a></li><li class="item-146"><a href="http://www.raspberryconnect.com/custom-casing">Custom Casing</a></li><li class="item-140"><a href="http://www.raspberryconnect.com/emulation">Emulation</a></li><li class="item-134"><a href="http://www.raspberryconnect.com/games">Games</a></li><li class="item-135"><a href="http://www.raspberryconnect.com/graphics">Graphics</a></li><li class="item-138 current active"><a href="http://www.raspberryconnect.com/network">Network</a></li><li class="item-145"><a href="http://www.raspberryconnect.com/hardware-add-ons">Hardware Add-ons</a></li><li class="item-136"><a href="http://www.raspberryconnect.com/internet">Internet</a></li><li class="item-137"><a href="http://www.raspberryconnect.com/multimedia">Multimedia</a></li><li class="item-139"><a href="http://www.raspberryconnect.com/programming">Programming</a></li><li class="item-141"><a href="http://www.raspberryconnect.com/office">Office</a></li><li class="item-142"><a href="http://www.raspberryconnect.com/operating-systems">Operating Systems</a></li><li class="item-143"><a href="http://www.raspberryconnect.com/security">Security</a></li><li class="item-144"><a href="http://www.raspberryconnect.com/tutorials-guides">Tutorials &amp; Guides</a></li><li class="item-132"><a href="http://www.raspberryconnect.com/video">Video</a></li><li class="item-147"><a href="http://www.raspberryconnect.com/miscellaneous">Miscellaneous</a></li></ul>
</div>
<div class="moduletable">
 <h3><span class="backh"><span class="backh2"><span class="backh3">Advertising </span></span></span></h3>
 

<div class="custom">
	<div style="margin: 0 15px;">

<script async="" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/adsbygoogle.html"></script>
<!-- Rasp Right Side Bar -->
<ins class="adsbygoogle" style="display:inline-block;width:120px;height:600px" data-ad-client="ca-pub-3533837445035277" data-ad-slot="5682824771"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

</div></div>
</div>
<div class="moduletable">
 <h3><span class="backh"><span class="backh2"><span class="backh3">Advertising  (2)</span></span></span></h3>
 

<div class="custom">
	<div style="margin: 0 15px;">

<script async="" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/adsbygoogle.html"></script>
<!-- Rasp Right Side Bar -->
<ins class="adsbygoogle" style="display:inline-block;width:120px;height:600px" data-ad-client="ca-pub-3533837445035277" data-ad-slot="5682824771"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

</div></div>
</div>

                                                                
                                                                


                                                        </div><!-- end navi -->
               
                                        <div id="wrapper">

                                                <div id="main" role="main">

                                                                                                        <div id="top">
<ul itemscope="" itemtype="https://schema.org/BreadcrumbList" class="breadcrumb">
			<li>
			You are here: &nbsp;
		</li>
	
				<li itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">
									<a itemprop="item" href="http://www.raspberryconnect.com/network" class="pathway"><span itemprop="name">Network</span></a>
				
									<span class="divider">
						<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/arrow.png" alt="">					</span>
								<meta itemprop="position" content="1">
			</li>
					<li itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem" class="active">
				<span itemprop="name">
					Raspberry Pi - Auto WiFi Hotspot Switch Internet				</span>
				<meta itemprop="position" content="2">
			</li>
		</ul>

                                                        </div>
                                                
                                                        <div id="system-message-container">
	</div>

                                                        

<!-- Start K2 Item Layout -->
<span id="startOfPageId330"></span>

<div id="k2Container" class="itemView itemIsFeatured">

	<!-- Plugins: BeforeDisplay -->
	
	<!-- K2 Plugins: K2BeforeDisplay -->
	
	<div class="itemHeader">

				<!-- Date created -->
		<span class="itemDateCreated">
			Friday, 30 June 2017 21:17		</span>
		
	  	  <!-- Item title -->
	  <h2 class="itemTitle">
						
	  	Raspberry Pi - Auto WiFi Hotspot Switch Internet
	  	
	  </h2>
	  
				<!-- Item Author -->
		<span class="itemAuthor">
			Written by&nbsp;
						<a rel="author" href="http://www.raspberryconnect.com/network/itemlist/user/269-graeme">roboberry</a>
					</span>
		
  </div>

  <!-- Plugins: AfterDisplayTitle -->
  
  <!-- K2 Plugins: K2AfterDisplayTitle -->
  
	  <div class="itemToolbar">
		<ul>
			
			
			
			
			
			
						<!-- Anchor link to comments below - if enabled -->
			<li>
														<a class="itemCommentsLink k2Anchor" href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#itemCommentsAnchor">
						<span>48</span> comments					</a>
												</li>
					</ul>
		<div class="clr"></div>
  </div>
	
	
  <div class="itemBody">

	  <!-- Plugins: BeforeDisplayContent -->
	  
	  <!-- K2 Plugins: K2BeforeDisplayContent -->
	  
	  	  <!-- Item Image -->
	  <div class="itemImageBlock">
		  <span class="itemImage">
		  	<a class="modal" rel="{handler: 'image'}" href="http://www.raspberryconnect.com/media/k2/items/cache/2cd9d1d7bb30511eb4cd517c131ae148_XL.jpg" title="Click to preview image">
		  		<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/2cd9d1d7bb30511eb4cd517c131ae148_L.jpg" alt="Raspberry Pi - Auto WiFi Hotspot Switch Internet" style="width:200px; height:auto;">
		  	</a>
		  </span>

		  
		  
		  <div class="clr"></div>
	  </div>
	  
<!--Custom Extra Field Position-->

	 <div class="itemExtraFields">
	 	  <!-- Item extra fields -->
	  	<ul>
									<li>
				<span class="itemExtraFieldsLabel">Author Type:</span>
				<span class="itemExtraFieldsValue">Individual</span>
			</li>
									</ul>
	    <div class="clr"></div>
	  </div>


<!--End Custom Field Position-->

	  	  	  <!-- Item introtext -->
	  <div class="itemIntroText">
	  	<p>A script to allow the Raspberry Pi to connect to a know wifi 
router or automatically generate an Internet Hotspot Access Point if no 
network is found. You can then use SSH or VNC on the move and switch 
between the hotspot and network without a reboot.</p>	  </div>
	  	  	  <!-- Item fulltext -->
	  <div class="itemFullText">
	  	<p>&nbsp;</p>
<h2>Updated Oct 2017: now works with Raspbian Stretch and Raspbian Jessie</h2>
<p><br><span style="color: #ff0000;"></span></p>
<p>When i am home I like to have my Raspberry Pi connected to the home 
network and the internet but when I am out I would like to connect to it
 via a hotspot using a tablet, phone or laptop. Usually this means when 
you are out you can't use your Raspberry Pi. The alternative is set it 
up as an access point so you can connect to it while you are out but 
when you are home you have to connect it to you routers ethernet port to
 use it on your home network.</p>
<p>I wanted a Raspberry Pi that connects to my home networks Wifi when I
 am at home or generates a wifi Hotspot/Access Point when I am out.</p>
<p>I have done this in a previous script but, for my use, when it is in 
Hotspot mode it was not able to use the internet if you connect an 
ethernet cable. Which was fine for me but some users required this 
feature. So this article is how to setup a Raspberry Pi so it can 
automatically switch between a network wifi connection and an internet 
routed hotspot.</p>
<p>If you are using a Raspbery Pi Zero w that has no network port and 
don't need an internet routed Access Point then you can use the other 
Hotspot switch script <a href="http://www.raspberryconnect.com/network/item/331-raspberry-pi-auto-wifi-hotspot-switch-no-internet-routing" target="_self">Raspberry Pi - Auto WiFi Hotspot Switch - Direct Connection</a></p>
<p>If you would just like a permanent hotspot then you can use this guide <a href="http://www.raspberryconnect.com/network/item/333-raspberry-pi-hotspot-access-point-dhcpcd-method" target="_self">Raspberry Pi - Hotspot/Access Point dhcpcd method</a></p>
<h2>Aim:</h2>
<ul>
<li style="text-align: left;">When you're home: &nbsp; On starting the Raspberry Pi it connects to your home routers wifi</li>
<li style="text-align: left;">When you're out: On starting, if any known
 wifi connection is not found it will generate a hotspot so a direct 
wifi connection can be made to the Raspberry Pi by a tablet, phone or 
laptop.</li>
<li style="text-align: left;">While in Hotspot mode:&nbsp; if an 
ethernet cable is connected the Raspberry Pi, then it will have internet
 access along with any wifi device connected to the Hotspot.</li>
</ul>
<h3>Additional Features:</h3>
<p style="text-align: left;">Using a Cron, a timer can be setup so the 
wifi connection can be regulary checked. It will switch between a wifi 
router and a hotspot without a reboot depending on the results. This is 
useful for</p>
<ul>
<li style="text-align: left;">Raspberry Pi in car entertainment systems</li>
<li style="text-align: left;">If the RPi looses wifi connection in your garden or near your home when using the camera or sensors.</li>
<li style="text-align: left;">You run a script or program at home 
connected to your router and wish to monitor it while you are out. As a 
hotspot is generated without a reboot the script/program is not 
interuppted.</li>
</ul>
<p>It is also possible to run the script from a GPIO button so you can 
manually run the script to switch depending on where you are.</p>
<p>&nbsp;</p>
<h2>&nbsp;Requirements:</h2>
<p>This has been tested on Raspbian Jessie and Raspbian Stretch. To see which version you have enter the command lsb_release -a</p>
<ul>
<li style="text-align: left;">Raspberry Pi 3</li>
<li style="text-align: left;">Raspberry Pi 1,2 with a Wifi Dongle*,</li>
<li style="text-align: left;">Raspberry Pi Zero W and Zero with WiFi 
Dongle* (internet hotspot not useable as it has no ethernet port. I 
suggest you use the non internet version of the script <a href="http://www.raspberryconnect.com/network/item/331-raspberry-pi-auto-wifi-hotspot-switch-no-internet-routing" target="_blank" rel="noopener noreferrer">Raspberry Pi - Auto WiFi Hotspot Switch - Direct Connection</a></li>
<li style="text-align: left;">Wifi already configured for your home router</li>
</ul>
<p>*some WiFi dongles don't work in adhoc mode or don't work with with 
the nl80211 driver used in this guide for RPi 3 &amp; zero W inbuilt 
wifi, so you may want to check this first before starting.</p>
<p>This setup has been tested on Raspbian Jessie and Raspbian Stretch 
using a RPI3, RPI Zero W and a RPI 2 . A connection has been made to the
 Hotspot using an Android Tablet, Ipad2, Raspberry PI and Windows 10. 
All worked fine with SSH.</p>
<h2>Note: Existing Autohotspot users</h2>
<p>If you are currently are using one of my other autohotspot scripts 
and would like to change it to this setup please read all sections as 
there are changes to the dnsmasq.conf file, interfaces file, the service
 file and the autohotspot file.</p>
<h3 style="text-align: left;">Note:</h3>
<p>Dnsmasq bug: in versions below 2.77 there is a recent bug that may 
cause the hotspot not to start for some users. This can be resolved by 
removing the dns-root-data. It may be benificial to do this before you 
start the rest of the installation as it has been reported that doing it
 after installation for effected users does not work but you won't know 
if it is an issue until after the installation is complete.</p>
<p>check your version with : dpkg -s dnsmasq</p>
<p>versions 2.77 and above are ok. If not then try the command:</p>
<p><samp>sudo apt-get purge dns-root-data</samp></p>
<p>thanks to danny for highlighting this.</p>
<p>&nbsp;</p>
<h3>Note about Raspbian Stretch Network Device Names</h3>
<p>For Raspbian Stretch there has been changes to how the network 
drivers are named, called&nbsp;Predictable Network Interface 
Names,&nbsp; and may be different for the usual wlan0 and wlan1 for wifi
 and eth0 for ethernet connections. Though the official Foundation 
version of Raspbian Stretch seems to be keeping to the old standard 
names, at least at the time of writing,&nbsp; this may not always be the
 case. For this guide I will use wlan0 as the device that is used. 
&nbsp;</p>
<p>To check the device name for your setup enter the commmand iw dev and
 take a note of the "Interface" name. For wifi it should start with wl ,
 replace your device name with any reference to wlan0 in the article, 
scripts and config files.</p>
<p>&nbsp;</p>
<h2>Step 1:</h2>
<p style="text-align: left;">To start with hostapd hotspot client and dnsmasq lightweight dns server need to be installed.</p>
<p style="text-align: left;">Open a Terminal session.</p>
<p style="text-align: left;">Update Raspbian with the latest updates by entering the commands:</p>
<p><samp style="text-align: left;"><code style="text-align: left;">sudo apt-get update<br></code></samp><samp style="text-align: left;"><code>sudo apt-get upgrade<br></code></samp></p>
<p style="text-align: left;">&nbsp;To install hostapd enter the command:</p>
<p><samp style="text-align: left;"><code>sudo apt-get install hostapd<br></code></samp></p>
<p style="text-align: left;">enter Y when prompted.</p>
<p style="text-align: left;">To install dnsmasq enter the command:</p>
<p><samp style="text-align: left;"><code>sudo apt-get install dnsmasq<br></code></samp></p>
<p style="text-align: left;">enter Y when prompted</p>
<p style="text-align: left;">The installers will have set up the 
programme so they run when the pi is started. For this setup they only 
need to be started if the home router is not found. So automatic startup
 needs to be disabled. This is done with the following commands:</p>
<p><samp style="text-align: left;"><code style="text-align: left;">sudo systemctl disable hostapd<br></code></samp><samp style="text-align: left;"><code style="text-align: left;">sudo systemctl disable dnsmasq</code></samp></p>
<p style="text-align: left;">Now the hostspot configuration file can be 
setup. This contains the name of the WiFi signal you will need to 
connect to (SSID) and the security password.</p>
<p style="text-align: left;"><em>To edit the configuration files I will 
be using the nano text editor but if you prefer an editor with an point 
and click interface then replace nano with leafpad in the following 
instructions.</em></p>
<h3 style="text-align: left;">Hostapd Configuration<em><br></em></h3>
<p style="text-align: left;">Using a text editor edit the hostapd configuration file. This file won't exist at this stage so will be blank.</p>
<p><samp><code style="text-align: left;">sudo nano /etc/hostapd/hostapd.conf</code></samp></p>
<p style="text-align: left;">download file <a href="http://www.raspberryconnect.com/images/autohotspotN/update/hostapd.conf" target="_blank" rel="noopener noreferrer">here</a>:</p>
<p><samp style="text-align: left;"><code style="text-align: left;">interface=wlan0<br>driver=nl80211<br>ssid=RPiHotN<br>hw_mode=g<br>channel=6<br>wmm_enabled=0<br>macaddr_acl=0<br>auth_algs=1<br>ignore_broadcast_ssid=0<br>wpa=2<br>wpa_passphrase=1234567890<br>wpa_key_mgmt=WPA-PSK<br>wpa_pairwise=TKIP<br>rsn_pairwise=CCMP</code></samp></p>
<ul>
<li style="text-align: left;">The interface will be wlan0</li>
<li style="text-align: left;">The driver nl80211 works with the 
Raspberry Pi 3 &amp; Zero W onboard WiFi but you will need to check that
 your wifi dongle is compatable and can use Access Point mode.</li>
</ul>
<p style="text-align: left;">For more information on wifi dongles see <a href="http://elinux.org/RPi_USB_Wi-Fi_Adapters" target="_blank" rel="noopener noreferrer">elinux.org/RPi_USB_Wi-Fi_Adapters</a></p>
<ul>
<li style="text-align: left;">The SSID is the name of the WiFi signal 
broadcast from the RPi, which you will connect to with your Tablet or 
phones WiFi settings.</li>
<li style="text-align: left;">Channel can be set between 1 and 13. If 
you are having trouble connection because of to many wifi signals in 
your area are using channel 6 then try another channel.</li>
<li style="text-align: left;">Wpa_passphrase is the password you will 
need to enter when you first connect a device to your Raspberry Pi's 
hotspot. This should be at least 8 characters and a bit more difficult 
to guess than my example.</li>
</ul>
<p style="text-align: left;">To save the config file press ctrl &amp; o and to exit nano press Ctrl &amp; x</p>
<p style="text-align: left;">Now the defaults file needs to be updated to point to where the config file is stored.<br>In terminal enter the command<br> <code>sudo nano /etc/default/hostapd</code></p>
<p style="text-align: left;">Change:<br>#DAEMON_CONF=""<br>to<br>DAEMON_CONF="/etc/hostapd/hostapd.conf"</p>
<p>Check the DAEMON_OPTS="" is preceded by a #, so is #DAEMON_OPTS=""</p>
<p style="text-align: left;">And save.</p>
<h3 style="text-align: left;">DNSmasq configuration</h3>
<p>Next dnsmasq needs to be configured to allow the Rpi to act as a router and issue ip addresses. Open the dnsmasq.conf file with</p>
<p><samp>sudo nano /etc/dnsmasq.conf</samp></p>
<p>Go to the bottom of the file and add the following lines (download <a href="http://www.raspberryconnect.com/images/autohotspotN/update/AddTo-dnsmasqconfig.txt" target="_blank" rel="noopener noreferrer">here</a>)</p>
<pre><samp>
#AutoHotspot config
interface=wlan0
no-resolv
bind-dynamic 
server=8.8.8.8
domain-needed
bogus-priv
dhcp-range=192.168.50.150,192.168.50.200,255.255.255.0,12h
</samp></pre>
<p>and the save (ctl &amp; o) and exit (ctrl &amp; x)</p>
<h2>Step 2:</h2>
<p>Now that hostapd and dnsmasq are configured we now need to make some 
changes to the interfaces file, the dhcpcd.conf file, setup 
ip_forwarding and create a service. Once these are done we can then add 
the autohotspot script.</p>
<p>The interfaces file is not required and should be empty of any 
network config. Depending which version of Raspbian you have this file 
may still contain network config.</p>
<p>Enter</p>
<p>sudo nano /etc/network/interfaces</p>
<p>If your file shows more than the standard top 5 lines like this</p>
<pre><samp>
# interfaces(5) file used by ifup(8) and ifdown(8)
# Please note that this file is written to be used with dhcpcd
# For static IP, consult /etc/dhcpcd.conf and 'man dhcpcd.conf'
# Include files from /etc/network/interfaces.d:
source-directory /etc/network/interfaces.d
<br>
</samp></pre>
<p>then make a copy of of your file and then remove any excess lines from the interfaces file.</p>
<p>To make a backup of your interfaces file use the command</p>
<p><samp>sudo cp /etc/network/interfaces /etc/network/interfaces-backup</samp></p>
<p>Next we need to add a line to the dhcpcd.conf file. Open the file with</p>
<p><samp>sudo nano /etc/dhcpcd.conf</samp></p>
<p>then scroll to the bottom of the file and add the line</p>
<p><samp>interface wlan0</samp></p>
<p>now save (ctrl &amp; o) and exit (ctrl &amp; x)</p>
<h3>&nbsp;ip forwarding</h3>
<p>While the RPi is in hotspot mode ip forwarding needs to be on so the internet works when an ethernet cable is attached. The autohotspot script will switch ip forwarding on and off between network mode and hotspot mode but it needs to be on by default for the script to manage ip forwarding.</p>
<p>enter</p>
<p><samp>sudo nano /etc/sysctl.conf</samp></p>
<p>look for the line</p>
<p><samp># Uncomment the next line to enable packet forwarding for IPv4<br>#net.ipv4.ip_forward=1</samp></p>
<p>and remove the # so it is</p>
<p><samp># Uncomment the next line to enable packet forwarding for IPv4<br>net.ipv4.ip_forward=1</samp></p>
<p>now save (ctrl &amp; o) and exit (ctrl &amp; x)</p>
<h3>autohotspot service file</h3>
<p>Next we have to create a service which will run the autohotspot script when the Raspberry Pi starts up.</p>
<p>create a new file with the command</p>
<p><samp>sudo nano /etc/systemd/system/autohotspot.service</samp></p>
<p>Then enter the following text or download <a href="http://www.raspberryconnect.com/images/autohotspotN/update/autohotspot.service" target="_blank" rel="noopener noreferrer">here</a></p>
<pre><samp>
[Unit]
Description=Automatically generates an internet Hotspot when a valid ssid is not in range
After=multi-user.target
[Service]
Type=oneshot
RemainAfterExit=yes
ExecStart=/usr/bin/autohotspotN
[Install]
WantedBy=multi-user.target
</samp></pre>
<p>and save (ctrl &amp; o) and exit (ctrl &amp; x)</p>
<p>&nbsp;</p>
<p>For the service to work it has to be enabled. To do this enter the command</p>
<p><samp>sudo systemctl enable autohotspot.service</samp></p>
<p><strong>Software check:</strong></p>
<p>If your version of Raspbian has been repeatedly upgraded from an old OS image, it is possible that that you don't have the correct wifi tools install. These are installed by default on more recent versions of Raspbian.</p>
<p>to check you have iw installed enter the command</p>
<p>dpkg -s iw</p>
<p>If it is installed the first two lines that shown should be</p>
<p>Package: iw<br>Status: install ok installed</p>
<p>if not enter the command</p>
<p><samp>sudo apt-get install iw</samp></p>
<h2>AutoHotspot Script</h2>
<p>This is the main script that will manage your wifi connections between a wifi router and an Access Point.</p>
<p>It will search for any wifi connection that is setup on you Raspberry Pi by using the details found in /etc/wpa_supplicant/wpa_supplicant.conf</p>
<p>If no wifi signal is found for a known SSID then the script will shutdown the wifi network setup and create a Hotspot. If an ethernet cable that allows internet access is connect then the Hotspot will become a full internet access point. Allowing all connected devices to use the Internet. Without an ethernet connect the Raspberry Pi can be accessed from a wifi device using SSH or VNC.</p>
<p>&nbsp;The script works with SSID's that contain spaces and by entering your routers MAC address it can be used with hidden SSID's.</p>
<h3>Hidden SSIDs</h3>
<p>If you routers SSID is not broadcast/hidden then find this section in the script</p>
<p><samp>#Enter the Routers Mac Addresses for hidden SSIDs, seperated by spaces ie <br>#( '11:22:33:44:55:66' 'aa:bb:cc:dd:ee:ff' ) <br>mac=()</samp></p>
<p>and enter you routers MAC address in the brackets of mac=() as shown in the example. Make sure mutiple MAC addresses are seperated by a space.</p>
<p>&nbsp;</p>
<h3>&nbsp;Creating the autohotspot script:</h3>
<p>Create a new file with the command</p>
<p>sudo nano /usr/bin/autohotspotN</p>
<p>and add the autohotspot script. This can be downloaded from <a href="http://www.raspberryconnect.com/images/autohotspotN/update/autohotspotN" target="_blank" rel="noopener noreferrer">here</a></p>
<pre><samp>
#!/bin/bash
#version 0.95-N/HS-I

#You may share this script on the condition a reference to RaspberryConnect.com 
#must be included in copies or derivatives of this script. 

#Network Wifi &amp; Hotspot with Internet
#A script to switch between a wifi network and an Internet routed Hotspot
#A Raspberry Pi with a network port required for Internet in hotspot mode.
#Works at startup or with a seperate timer or manually without a reboot
#Other setup required find out more at
#http://www.raspberryconnect.com

wifidev="wlan0" #device name to use. Default is wlan0.
#use the command: iw dev ,to see wifi interface name 

IFSdef=$IFS
cnt=0
#These four lines capture the wifi networks the RPi is setup to use
wpassid=$(awk '/ssid="/{ print $0 }' /etc/wpa_supplicant/wpa_supplicant.conf | awk -F'ssid=' '{ print $2 }' ORS=',' | sed 's/\"/''/g' | sed 's/,$//')
IFS=","
ssids=($wpassid)
IFS=$IFSdef #reset back to defaults


#Note:If you only want to check for certain SSIDs
#Remove the # in in front of ssids=('mySSID1'.... below and put a # infront of all four lines above
# separated by a space, eg ('mySSID1' 'mySSID2')
#ssids=('mySSID1' 'mySSID2' 'mySSID3')

#Enter the Routers Mac Addresses for hidden SSIDs, seperated by spaces ie 
#( '11:22:33:44:55:66' 'aa:bb:cc:dd:ee:ff' ) 
mac=()

ssidsmac=("${ssids[@]}" "${mac[@]}") #combines ssid and MAC for checking

createAdHocNetwork()
{
    ip link set dev "$wifidev" down
    ip a add 192.168.50.5/24 brd + dev "$wifidev"
    ip link set dev "$wifidev" up
    iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
    iptables -A FORWARD -i eth0 -o "$wifidev" -m state --state RELATED,ESTABLISHED -j ACCEPT
    iptables -A FORWARD -i "$wifidev" -o eth0 -j ACCEPT
    systemctl start dnsmasq
    systemctl start hostapd
    echo 1 &gt; /proc/sys/net/ipv4/ip_forward
}

KillHotspot()
{
    echo "Shutting Down Hotspot"
    ip link set dev "$wifidev" down
    systemctl stop hostapd
    systemctl stop dnsmasq
    iptables -D FORWARD -i eth0 -o "$wifidev" -m state --state RELATED,ESTABLISHED -j ACCEPT
    iptables -D FORWARD -i "$wifidev" -o eth0 -j ACCEPT
    echo 0 &gt; /proc/sys/net/ipv4/ip_forward
    ip addr flush dev "$wifidev"
    ip link set dev "$wifidev" up
}

ChkWifiUp()
{
	echo "Checking WiFi connection ok"
        sleep 10 #give time for connection to be completed to router
	if ! wpa_cli -i "$wifidev" status | grep 'ip_address' &gt;/dev/null 2&gt;&amp;1
        then #Failed to connect to wifi (check your wifi settings, password etc)
	       echo 'Wifi failed to connect, falling back to Hotspot.'
               wpa_cli terminate "$wifidev" &gt;/dev/null 2&gt;&amp;1
	       createAdHocNetwork
	fi
}


FindSSID()
{
#Check to see what SSID's and MAC addresses are in range
ssidChk=('NoSSid')
i=0; j=0
until [ $i -eq 1 ] #wait for wifi if busy, usb wifi is slower.
do
        ssidreply=$((iw dev "$wifidev" scan ap-force | egrep "^BSS|SSID:") 2&gt;&amp;1) &gt;/dev/null 2&gt;&amp;1 
	if echo "$ssidreply" | grep "No such device (-19)" &gt;/dev/null 2&gt;&amp;1; then
		NoDevice
	elif ! echo "$ssidreply" | grep "resource busy (-16)"  &gt;/dev/null 2&gt;&amp;1 ;then
		i=1
	elif (($j &gt;= 5)); then #if busy 5 times goto hotspot
                 ssidreply=""
		 i=1
	else #see if device not busy in 2 seconds
		j=$((j = 1))
		sleep 2
	fi
done

for ssid in "${ssidsmac[@]}"
do
     if (echo "$ssidreply" | grep "$ssid") &gt;/dev/null 2&gt;&amp;1
     then
	      #Valid SSid found, passing to script
              ssidChk=$ssid
              return 0
      else
	      #No Network found, NoSSid issued"
              ssidChk='NoSSid'
     fi
done
}

NoDevice()
{
	#if no wifi device,ie usb wifi removed, activate wifi so when it is
	#reconnected wifi to a router will be available
	echo "No wifi device connected"
	wpa_supplicant -B -i "$wifidev" -c /etc/wpa_supplicant/wpa_supplicant.conf &gt;/dev/null 2&gt;&amp;1
	exit 1
}

FindSSID

#Create Hotspot or connect to valid wifi networks
if [ "$ssidChk" != "NoSSid" ] 
then
       echo 0 &gt; /proc/sys/net/ipv4/ip_forward #deactivate ip forwarding
       if systemctl status hostapd | grep "(running)" &gt;/dev/null 2&gt;&amp;1
       then #hotspot running and ssid in range
              KillHotspot
              echo "Hotspot Deactivated, Bringing Wifi Up"
              wpa_supplicant -B -i "$wifidev" -c /etc/wpa_supplicant/wpa_supplicant.conf &gt;/dev/null 2&gt;&amp;1
              ChkWifiUp
       elif { wpa_cli -i "$wifidev" status | grep 'ip_address'; } &gt;/dev/null 2&gt;&amp;1
       then #Already connected
              echo "Wifi already connected to a network"
       else #ssid exists and no hotspot running connect to wifi network
              echo "Connecting to the WiFi Network"
              wpa_supplicant -B -i "$wifidev" -c /etc/wpa_supplicant/wpa_supplicant.conf &gt;/dev/null 2&gt;&amp;1
              ChkWifiUp
       fi
else #ssid or MAC address not in range
       if systemctl status hostapd | grep "(running)" &gt;/dev/null 2&gt;&amp;1
       then
              echo "Hostspot already active"
       elif { wpa_cli status | grep "$wifidev"; } &gt;/dev/null 2&gt;&amp;1
       then
              echo "Cleaning wifi files and Activating Hotspot"
              wpa_cli terminate &gt;/dev/null 2&gt;&amp;1
              ip addr flush "$wifidev"
              ip link set dev "$wifidev" down
              rm -r /var/run/wpa_supplicant &gt;/dev/null 2&gt;&amp;1
              createAdHocNetwork
       else #"No SSID, activating Hotspot"
              createAdHocNetwork
       fi
fi
</samp></pre>
<p>and save (ctl &amp; o) and exit (ctl &amp; x)</p>
<p>&nbsp;</p>
<p>For the autohotspotN script to work it needs to be executable. This is done with the command</p>
<p><samp>sudo chmod +x /usr/bin/autohotspotN</samp></p>
<p>Thats it, you are ready to go. Now test that everything is working ok.</p>
<p>Thanks to Willem Me and Tino for there contributions to the development of this script.</p>
<h2>Testing the Hotspot</h2>
<p>To test that the RPi is setup ok reboot the RPI. When the desktop returns you should have the wifi icon <img style="margin: 2px;" alt="Raspbian Pixel WiFI icon" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/wif.gif" width="43" height="39"> by the clock.<br>For those setting this up on a headerless RPi then you should see the pi on your routers network.&nbsp;</p>
<p>To test the hotspot works ok edit the ssid name of your router in the wpa_supplicant file.</p>
<p>enter</p>
<p><samp>sudo nano /etc/wpa_supplicant/wpa_supplicant.conf</samp></p>
<p>and add 'off' to the end of your routers ssid. For example:</p>
<pre><samp>
network={
	ssid="mySSID1"
	psk="myPassword"
	key_mgmt=WPA-PSK
}
</samp></pre>
<p>change to</p>
<pre><samp>
network={
	ssid="mySSID1off"
	psk="myPassword"
	key_mgmt=WPA-PSK
}
</samp></pre>
<p>save (ctrl &amp; o) and close (ctrl &amp; x) the file</p>
<p>Now reboot the Raspberry Pi.</p>
<p>Once the RPi is up and running the wifi icon near the clock should now be two arrows facing opposite directions&nbsp;<img style="margin: 2px;" alt="Raspbian Pixel AP mode icon" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/hotspot.gif" width="42" height="37"> This means it is an access point. On a Tablet, phone or Laptop scan for wifi signals. You should see one for RPiHotN.</p>
<p>Select this as the wifi signal to connect to. The password is what you setup in the hostapd.conf file. From my example it is 1234567890</p>
<p><img style="margin: 2px;" alt="android wifi in range list" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/android-wifi.jpg" width="399" height="263"></p>
<p><em>Local wifi signals in range on Android</em></p>
<p>For SSH and VNC the connection ip is 192.168.50.5 also if you have setup the Rpi as a webserver use the same ip to see the webpage.</p>
<p>For ssh use ssh <span id="cloak64311"><a href="mailto:pi@192.168.50">pi@192.168.50</a></span><script type="text/javascript">
 //<!--
 document.getElementById('cloak64311').innerHTML = '';
 var prefix = '&#109;a' + 'i&#108;' + '&#116;o';
 var path = 'hr' + 'ef' + '=';
 var addy64311 = 'p&#105;' + '&#64;';
 addy64311 = addy64311 + '192' + '&#46;' + '168' + '&#46;' + '50';
 var addy_text64311 = 'p&#105;' + '&#64;' + '192' + '&#46;' + '168' + '&#46;' + '50';
 document.getElementById('cloak64311').innerHTML += '<a ' + path + '\'' + prefix + ':' + addy64311 + '\'>'+addy_text64311+'<\/a>';
 //-->
 </script>.5</p>
<p>For vnc use 192.168.50.5::5900</p>
<p>If you now connect an ethernet cable to the Raspbery Pi and your router and wait a few seconds the hotspot will allow connected wifi devices to use the internet as well as the RPi.</p>
<p>&nbsp;Once you are happy the setup is working ok change the wpa_supplicant.conf file back to your routers ssid. From the next reboot the autohotspotN script will manage your wifi connection.</p>
<p>&nbsp;</p>
<h2>Setting up a Timer</h2>
<p>If the autohotspotN script is set to be run at set intervals, when you go out of range of your home router it will automatically generate a hotspot and then when you get back in range it will deactivate the hotspot and connect to the routers wifi. If you run a program in the background or use programs like tmux then any software you are running will keep working.</p>
<p>If you have an active ssh or vnc session running when the switch happens it will be lost.</p>
<p style="text-align: left;">Using a Cron job, tasks can be set off automatically at certain times, dates or intervals. For my use running the script every 5 minutes is fine but this can be changed to your needs. To setup a cron task enter the command</p>
<p><samp>crontab -e</samp></p>
<p style="text-align: left;">At the bottom of the file enter the command</p>
<p style="text-align: left;">*/5 * * * * sudo /usr/bin/autohotspotN &gt;/dev/null 2&gt;&amp;1</p>
<p style="text-align: left;">There is a space after each entry and * except the first *.</p>
<p style="text-align: left;">The first * position is for minutes. If you want it to check every minute just use * instead of */5</p>
<p style="text-align: left;">If you want to use hours, say every 2 hours enter it as</p>
<p style="text-align: left;">* */2 * * * sudo /usr/bin/autohotspotN &gt;/dev/null 2&gt;&amp;1</p>
<p style="text-align: left;">&nbsp;Save the cron tab with ctrl &amp; o and close it with ctrl &amp; x</p>
<p style="text-align: left;">The cron job will automatically start straight away.</p>
<h4 style="text-align: left;">Note on Permissions:</h4>
<p style="text-align: left;">by default the pi user does not need to enter a password to use the sudo command. If you are not using the default pi user and while doing this guide you have had to enter a password every time sudo is needed then you will find the the cron job will not work as it wont have permission to run the autohotspotN script.</p>
<p style="text-align: left;">To fix this you can give the user permission to run the script without a password.<br>Enter the command</p>
<p><samp>sudo visudo</samp></p>
<p style="text-align: left;">enter your password<br>at the bottom of the file add the following line, where username is the user that will be using the script:</p>
<p><samp>username ALL= NOPASSWD: /usr/bin/autohotspotN</samp></p>
<p style="text-align: left;">Now you will be able to run the script with sudo with the cron.</p>
<p style="text-align: left;">Thanks to Jim for pointing this out as an issue for some users.</p>
<h3 style="text-align: left;">Disable Cron Timer</h3>
<p style="text-align: left;">If you no longer need the timer running edit the cron with</p>
<p style="text-align: left;"><samp>crontab -e</samp></p>
<p style="text-align: left;">and put a # infront so it is now</p>
<p style="text-align: left;">#*/5 * * * * sudo /usr/bin/autohotspot</p>
<p style="text-align: left;">The script will now only work at boot up or if you manually run the autohotspotN script with the command</p>
<p style="text-align: left;"><samp>sudo /usr/bin/autohotspotN</samp></p>
<h3 style="text-align: left;">&nbsp;</h3>
<h2>Script Removal</h2>
<p>If you don't wish to continue using the autohotspotN script then the Raspberry Pi can be revered back to a standard wifi setup with the following steps.</p>
<p style="text-align: left;">Disable the script with the command</p>
<p><samp style="text-align: left;">sudo systemctl disable autohotspot</samp><samp style="text-align: left;"></samp></p>
<p>Then disable ip forwarding</p>
<p><samp>sudo nano /etc/sysctl.conf</samp></p>
<p>look for the entry</p>
<p><samp># Uncomment the next line to enable packet forwarding for IPv4<br>net.ipv4.ip_forward=1</samp></p>
<p>and add a # as follows</p>
<p><samp># Uncomment the next line to enable packet forwarding for IPv4<br># net.ipv4.ip_forward=1</samp></p>
<p>Remove the line "interface wlan0" from the bottom of the /etc/dhcpcd.conf file.</p>
<p>If you had previous config in your interfaces file and made a backup you can restore your original interfaces file with the command</p>
<p><samp>sudo mv /etc/network/interfaces-backup /etc/network/interfaces</samp></p>
<p>Then reboot</p>
<p>The autohotspotN script will no longer have control of you wifi. Dnsmasq and hostapd can be uninstalled if you no longer need them.</p>
<h3>&nbsp;Trouble Shooting</h3>
<ul>
<li style="text-align: left;">If you get no wifi connection or no hotspot and have this icon <img alt="Network Down" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/networkdown.gif" width="48" height="42">then it is most likley the autohotspotN script is not executable or the service has not been enabled</li>
</ul>
<p>redo the follow commands</p>
<p><samp>sudo chmod +x /usr/bin/autohotspotN</samp></p>
<p>&nbsp;</p>
<p><samp>sudo systemctl enable autohotspot.service</samp></p>
<p>&nbsp;</p>
<ul>
<li style="text-align: left;">You are in range of your router but it only creates a hotspot. If there is an issue with connecting to the router, such as the password is wrong. The script will fall back to the hotspot so you still have some type of connection. Check your password in the wpa_supplicant.conf file.&nbsp;</li>
<li style="text-align: left;">You can connect to the hotspot via an Android Phone but you can't get a ssh connection. Some users have found this issue where Android uses there data connection rather than the wifi. Disabeling data has allowed them to use ssh. &nbsp;&nbsp;</li>
<li style="text-align: left;">If this setup is not working as expected you can check the script for errors by running it manually in a terminal window with the command, sudo /usr/bin/autohotspotN ,you can also check the service status with, sudo systemctl status -l autohotspot ,and if the hotspot has failed try, sudo systemctl status -l hostapd</li>
<li style="text-align: left;">You need to add a new wifi network to the RPi but it is in Hotspot mode so you are unable to scan for new wifi signals. You will need to add the new network to /etc/wpa_supplicant/wpa_supplicant manually. Enter the following details replacing mySSID and myPassword with the correct details. If your router has a hidden SSID/not Broadcast then include the line;&nbsp; scan_ssid=1</li>
</ul>
<pre>network={
	ssid="mySSID1"
	psk="myPassword"
	key_mgmt=WPA-PSK
}<br><br></pre>
<p>&nbsp;</p>	  </div>
	  	  
		<div class="clr"></div>
<!--  Custom Fields default block off
	     -->
	  <!-- Item extra fields -->
<!--        <div class="itemExtraFields">
	  	<h3>Additional Info</h3>
	  	<ul>
									<li class="even typeRadio group1">
				<span class="itemExtraFieldsLabel">Author Type:</span>
				<span class="itemExtraFieldsValue">Individual</span>
			</li>
									</ul>
	    <div class="clr"></div>
	  </div>
	  -->

				<div class="itemContentFooter">

			
						<!-- Item date modified -->
			<span class="itemDateModified">
				Last modified on Sunday, 19 November 2017 11:05			</span>
			
			<div class="clr"></div>
		</div>
		
<!-- Google 728 x 90 banner add at base of Article -->

<script async="" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/adsbygoogle.html"></script>
<!-- RC Article Base -->
<ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-3533837445035277" data-ad-slot="4755549971"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>


<!-- end of Google Banner-->


	  <!-- Plugins: AfterDisplayContent -->
	  
	  <!-- K2 Plugins: K2AfterDisplayContent -->
	  
	  <div class="clr"></div>
  </div>

		<!-- Social sharing -->
	<div class="itemSocialSharing">Google

				<!-- Twitter Button -->
		<div class="itemTwitterButton">
			<iframe id="twitter-widget-1" scrolling="no" allowtransparency="true" class="twitter-share-button twitter-share-button-rendered twitter-tweet-button" style="position: static; visibility: visible; width: 60px; height: 20px;" title="Twitter Tweet Button" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/tweet_button.html" frameborder="0"></iframe><script type="text/javascript" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/widgets.js"></script>
		</div>
				
				<!-- Facebook Button -->
		<div class="itemFacebookButton">
			<div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="fb_xdm_frame_http" allowtransparency="true" allowfullscreen="true" scrolling="no" id="fb_xdm_frame_http" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" style="border: medium none;" src="http://staticxx.facebook.com/connect/xd_arbiter/r/lY4eZXm_YWu.js?version=42#channel=f139fcf52b74ec2&amp;origin=http%3A%2F%2Fwww.raspberryconnect.com" frameborder="0"></iframe><iframe name="fb_xdm_frame_https" allowtransparency="true" allowfullscreen="true" scrolling="no" id="fb_xdm_frame_https" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" style="border: medium none;" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/lY4eZXm_YWu_002.html" frameborder="0"></iframe></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="f244ac35cb5485c" allowtransparency="true" allowfullscreen="true" scrolling="no" style="display: none;" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/ping.html" frameborder="0"></iframe></div></div></div>
			<script type="text/javascript">
				(function(d, s, id) {
				  var js, fjs = d.getElementsByTagName(s)[0];
				  if (d.getElementById(id)) {return;}
				  js = d.createElement(s); js.id = id;
				  js.src = "//connect.facebook.net/en_US/all.js#appId=177111755694317&xfbml=1";
				  fjs.parentNode.insertBefore(js, fjs);
				}(document, 'script', 'facebook-jssdk'));
			</script>
			<div class="fb-like fb_iframe_widget" data-send="false" data-width="200" data-show-faces="true" fb-xfbml-state="rendered" fb-iframe-plugin-query="app_id=177111755694317&amp;container_width=200&amp;href=http%3A%2F%2Fwww.raspberryconnect.com%2Fnetwork%2Fitem%2F330-raspberry-pi-auto-wifi-hotspot-switch-internet&amp;locale=en_US&amp;sdk=joey&amp;send=false&amp;show_faces=true&amp;width=200"><span style="vertical-align: bottom; width: 225px; height: 28px;"><iframe name="f95aec929ce26" allowtransparency="true" allowfullscreen="true" scrolling="no" title="fb:like Facebook Social Plugin" style="border: medium none; visibility: visible; width: 225px; height: 28px;" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/like.html" class="" width="200px" height="1000px" frameborder="0"></iframe></span></div>
		</div>
		
				<!-- Google +1 Button -->
		<div class="itemGooglePlusOneButton">	
			<div style="text-indent: 0px; margin: 0px; padding: 0px; background: transparent none repeat scroll 0% 0%; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 38px; height: 24px;" id="___plusone_0"><iframe ng-non-bindable="" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 38px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 24px;" tabindex="0" vspace="0" id="I0_1512310218258" name="I0_1512310218258" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/fastbutton.html" data-gapiattached="true" title="G+" width="100%" frameborder="0"></iframe></div>
			<script type="text/javascript">
			  (function() {
			  	window.___gcfg = {lang: 'en'}; // Define button default language here
			    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
			    po.src = 'https://apis.google.com/js/plusone.js';
			    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
			  })();
			</script>
		</div>
				
		<div class="clr"></div>
	</div>
	
    <div class="itemLinks">

				<!-- Item category -->
		<div class="itemCategory">
			<span>Published in</span>
			<a href="http://www.raspberryconnect.com/network">Network</a>
		</div>
		
	  	  <!-- Item tags -->
	  <div class="itemTagsBlock">
		  <span>Tagged under</span>
		  <ul class="itemTags">
		    		    <li><a href="http://www.raspberryconnect.com/network/itemlist/tag/access%20point">access point</a></li>
		    		    <li><a href="http://www.raspberryconnect.com/network/itemlist/tag/hotspot">hotspot</a></li>
		    		    <li><a href="http://www.raspberryconnect.com/network/itemlist/tag/hostapd">hostapd</a></li>
		    		    <li><a href="http://www.raspberryconnect.com/network/itemlist/tag/dnsmasq">dnsmasq</a></li>
		    		    <li><a href="http://www.raspberryconnect.com/network/itemlist/tag/autohotspot">autohotspot</a></li>
		    		    <li><a href="http://www.raspberryconnect.com/network/itemlist/tag/wifi%20hotspot%20switch">wifi hotspot switch</a></li>
		    		  </ul>
		  <div class="clr"></div>
	  </div>
	  
	  
		<div class="clr"></div>
  </div>
  
    <!-- Author Block -->
  <div class="itemAuthorBlock">

  	  	<img class="itemAuthorAvatar" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/10.jpg" alt="roboberry">
  	
    <div class="itemAuthorDetails">
      <h3 class="itemAuthorName">
      	<a rel="author" href="http://www.raspberryconnect.com/network/itemlist/user/269-graeme">roboberry</a>
      </h3>

            <p></p><p>RapberryConnect.com SuperUser.&nbsp; Contactable via the site admin e-mail in the Contact Us link.</p><p></p>
      
            <span class="itemAuthorUrl">Website: <a rel="me" href="http://www.raspberryconnect.com/" target="_blank">www.raspberryconnect.com</a></span>
      
      

			<div class="clr"></div>

			<!-- K2 Plugins: K2UserDisplay -->
			
    </div>
    <div class="clr"></div>
  </div>
  
    <!-- Latest items from author -->
	<div class="itemAuthorLatest">
		<h3>Latest from roboberry</h3>
		<ul>
						<li class="even">
				<a href="http://www.raspberryconnect.com/network/item/333-raspberry-pi-hotspot-access-point-dhcpcd-method">Raspberry Pi - Hotspot/Access Point dhcpcd method</a>
			</li>
						<li class="odd">
				<a href="http://www.raspberryconnect.com/network/item/331-raspberry-pi-auto-wifi-hotspot-switch-direct-connection">Raspberry Pi - Auto WiFi Hotspot Switch - Direct Connection</a>
			</li>
						<li class="even">
				<a href="http://www.raspberryconnect.com/pi-base/item/328-google-aiy-voice-hat-customise-voice-commands">Google AIY Voice HAT Customise Voice Commands</a>
			</li>
					</ul>
		<div class="clr"></div>
	</div>
	
			
    <!-- Related items by tag -->
	<div class="itemRelated">
		<h3>Related items</h3>
		<ul>
						<li class="even">
			
								<a class="itemRelTitle" href="http://www.raspberryconnect.com/network/item/333-raspberry-pi-hotspot-access-point-dhcpcd-method">Raspberry Pi - Hotspot/Access Point dhcpcd method</a>
				
								
								
								
								
				
								
							</li>
						<li class="odd">
			
								<a class="itemRelTitle" href="http://www.raspberryconnect.com/network/item/331-raspberry-pi-auto-wifi-hotspot-switch-direct-connection">Raspberry Pi - Auto WiFi Hotspot Switch - Direct Connection</a>
				
								
								
								
								
				
								
							</li>
						<li class="even">
			
								<a class="itemRelTitle" href="http://www.raspberryconnect.com/network/item/327-raspberry-pi-auto-wifi-hotspot-switch">Raspberry Pi - Auto WiFi Hotspot Switch</a>
				
								
								
								
								
				
								
							</li>
						<li class="odd">
			
								<a class="itemRelTitle" href="http://www.raspberryconnect.com/network/item/320-rpi3-auto-wifi-hotspot-if-no-internet-oldscript">Raspberry PI 3 Auto WiFi Hotspot if no Internet - OldScript</a>
				
								
								
								
								
				
								
							</li>
						<li class="even">
			
								<a class="itemRelTitle" href="http://www.raspberryconnect.com/network/item/315-raspberry-pi-3-auto-wifi-hotspot-if-no-internet">Raspberry PI 3 Auto WiFi Hotspot if no Internet</a>
				
								
								
								
								
				
								
							</li>
						<li class="clr"></li>
		</ul>
		<div class="clr"></div>
	</div>
	
	<div class="clr"></div>

  
  
    <!-- Item navigation -->
  <div class="itemNavigation">
  	<span class="itemNavigationTitle">More in this category:</span>

				<a class="itemPrevious" href="http://www.raspberryconnect.com/network/item/327-raspberry-pi-auto-wifi-hotspot-switch">
			 Raspberry Pi - Auto WiFi Hotspot Switch		</a>
		
		
  </div>
  
  <!-- Plugins: AfterDisplay -->
  
  <!-- K2 Plugins: K2AfterDisplay -->
  
    <!-- K2 Plugins: K2CommentsBlock -->
    
   <!-- Item comments -->
  <a name="itemCommentsAnchor" id="itemCommentsAnchor"></a>

  <div class="itemComments">

	  	  <!-- Item comments form -->
	  <div class="itemCommentsForm">
	  	
<h3>Leave a comment</h3>
<p class="itemCommentsFormNotes">
		Comments for Guest and account owners. Account owners will need to login to use registered e-mail address. 	</p>

<form action="/index.php" method="post" id="comment-form" class="form-validate">
	<label class="formComment" for="commentText">Message *</label>
	<textarea rows="20" cols="10" class="inputbox" onblur="if(this.value=='') this.value='enter your message here...';" onfocus="if(this.value=='enter your message here...') this.value='';" name="commentText" id="commentText">enter your message here...</textarea>

	<label class="formName" for="userName">Name *</label>
	<input class="inputbox" name="userName" id="userName" value="enter your name..." onblur="if(this.value=='') this.value='enter your name...';" onfocus="if(this.value=='enter your name...') this.value='';" type="text">

	<label class="formEmail" for="commentEmail">Email *</label>
	<input class="inputbox" name="commentEmail" id="commentEmail" value="enter your e-mail address..." onblur="if(this.value=='') this.value='enter your e-mail address...';" onfocus="if(this.value=='enter your e-mail address...') this.value='';" type="text">


		<label class="formRecaptcha">Enter the words you see below</label>
	<div id="recaptcha"><div style="width: 304px; height: 78px;"><div><iframe src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/anchor.html" role="presentation" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox" width="304" height="78" frameborder="0"></iframe></div><textarea id="g-recaptcha-response" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px; height: 40px; border: 1px solid #c1c1c1; margin: 10px 25px; padding: 0px; resize: none;  display: none; "></textarea></div></div>
	
	<input class="button" id="submitCommentButton" value="Submit comment" type="submit">

	<span id="formLog"></span>

	<input name="option" value="com_k2" type="hidden">
	<input name="view" value="item" type="hidden">
	<input name="task" value="comment" type="hidden">
	<input name="itemID" value="330" type="hidden">
	<input name="8024d71da7dca71e33ea767caf118b9f" value="1" type="hidden"></form>
	  </div>
	  
	  	  <!-- Item user comments -->
	  <h3 class="itemCommentsCounter">
	  	<span>48</span> comments	  </h3>

	  <ul class="itemCommentsList">
	    	    <li class="even">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4706" name="comment4706" id="comment4706">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="roboberry" width="48">
				
				<span class="commentDate">
		    	Saturday, 02 December 2017 22:55		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    roboberry			    		    </span>

		    <p>Hi Greg, seems a bit of a strange one. The script doesnt make any changes to the system if network is available at boot time. So other than ip_forwarding on by default, which is disabled when the autohotspot script runs there is no changes.<br>
I run ssh -v .... on my set up. <br>
In your results the line "debug1: /etc/ssh/ssh_config line 52: Applying options for *" is line 19 for me which refers to Hosts *<br>
Line 52 for me is #   RekeyLimit 1G 1h<br>
which doesnt activate due to the # so maybe something to look into.<br>
<br>
But it seems odd that it's fine when when you have disabled the script. Try enabling ip_forwarding but not the autohostpost script and see how ssh works. <br>
Presuming you have no other setup or firewall thats is using IP rules. Otherwise the IP_forward dosn't do anything until the ip-tables are set. <br>
<br>
let me know if you have any luck. You could try the the other autohotspot setup and script on your pi, just to see if there may be something else conflicting as the Direct article is more basic.</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4706">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4706">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4705" name="comment4705" id="comment4705">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Greg" width="48">
				
				<span class="commentDate">
		    	Saturday, 02 December 2017 19:46		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Greg			    		    </span>

		    <p>Thank you very much for this tutorial. It is exactly what I needed. <br>
I have a pi 3 with stretch. I followed every step and it works. But there are some problems:<br>
When the pi finds my wifi network and goes into client mode, I have problems connecting to it via ssh. The connection will eventually be established, but it takes ages. Also some other things do not work properly, e.g. youtube-dl, apt-get update, ...<br>
When the pi runs in ap mode, ssh works just fine.<br>
<br>
I reversed everything as you described and all is back to normal. However, I would really love to use your script. Do you have any idea what the problem might be?<br>
<br>
Here is some output from ssh when the pi runs in client mode, maybe it helps:<br>
<br>
ssh -v <a href="mailto:pi@raspberrypi.loc">pi@raspberrypi.loc</a>al<br>
OpenSSH_7.5p1, LibreSSL 2.5.4<br>
debug1: Reading configuration data /etc/ssh/ssh_config<br>
debug1: /etc/ssh/ssh_config line 52: Applying options for *<br>
debug1: Connecting to raspberrypi.local [fe80::4123:a746:4449:c48b%en1] port 22.<br>
debug1: connect to address fe80::4123:a746:4449:c48b%en1 port 22: Operation timed out<br>
debug1: Connecting to raspberrypi.local [169.254.87.255] port 22.<br>
debug1: Connection established.</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4705">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4705">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4677" name="comment4677" id="comment4677">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="roboberry" width="48">
				
				<span class="commentDate">
		    	Friday, 03 November 2017 21:48		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    roboberry			    		    </span>

		    <p>Hi Dominaezzz, Thanks for the info. Having a blank wpa_supplicant file is fine, that doesn't cause an issue.<br>
<br>
Your dnsmasq output is fine, the lines you mention, dnsmasq[733]: using nameserver 8.8.8.8#53"<br>
 "dnsmasq[733]: read /etc/hosts - 5 addresses"<br>
 "dnsmasq[734]: Too few arguments."  <br>
<br>
are the same as my output. I decided to do a system update this evening and now I am getting issues as well. My laptop will connect to the AP and eventually get internet through the access point but my android tablet won't hold a connection. So may be related to your issue. It was all working fine until the update. <br>
Check your hostapd status as well to see if that shows an issue.<br>
<br>
I will try and solve my issue which may be related :(</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4677">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4677">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4676" name="comment4676" id="comment4676">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Dominaezzz" width="48">
				
				<span class="commentDate">
		    	Friday, 03 November 2017 21:05		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Dominaezzz			    		    </span>

		    <p>Everything seems okay.<br>
The output of dnsmasq status is:<br>
Nov 02 01:32:38 raspberrypi dnsmasq-dhcp[733]: DHCP, IP range 192.168.50.150 -- 192.168.50.200, lease time 12h<br>
Nov 02 01:32:38 raspberrypi dnsmasq-dhcp[733]: DHCP, sockets bound exclusively to interface wlan0<br>
Nov 02 01:32:38 raspberrypi dnsmasq[733]: using nameserver 8.8.8.8#53<br>
Nov 02 01:32:38 raspberrypi dnsmasq[733]: read /etc/hosts - 5 addresses<br>
Nov 02 01:32:38 raspberrypi dnsmasq[734]: Too few arguments.<br>
Nov 02 01:32:38 raspberrypi systemd[1]: Started dnsmasq - A lightweight DHCP and caching DNS server.<br>
Nov 02 01:38:09 raspberrypi dnsmasq-dhcp[733]: DHCPREQUEST(wlan0) 192.168.50.199 e4:a7:a0:45:e3:0e<br>
Nov 02 01:38:09 raspberrypi dnsmasq-dhcp[733]: DHCPACK(wlan0) 192.168.50.199 e4:a7:a0:45:e3:0e DOMINIC-LAPTOP<br>
Nov 02 01:46:09 raspberrypi dnsmasq-dhcp[733]: DHCPREQUEST(wlan0) 192.168.50.199 e4:a7:a0:45:e3:0e<br>
Nov 02 01:46:09 raspberrypi dnsmasq-dhcp[733]: DHCPACK(wlan0) 192.168.50.199 e4:a7:a0:45:e3:0e DOMINIC-LAPTOP</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4676">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4676">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4675" name="comment4675" id="comment4675">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Dominaezzz" width="48">
				
				<span class="commentDate">
		    	Thursday, 02 November 2017 22:44		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Dominaezzz			    		    </span>

		    <p>Also, I forgot to mention I don't have any wifi networks setup in my wpa_supplicant file because I didn't require it to connect to WiFi at all unless I can make it a wifi extender. I wanted the AP to always show.</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4675">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4675">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4674" name="comment4674" id="comment4674">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Dominaezzz" width="48">
				
				<span class="commentDate">
		    	Thursday, 02 November 2017 22:36		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Dominaezzz			    		    </span>

		    <p>Hello again,<br>
Everything seems to be correct.<br>
The only thing that raised and eyebrow was the status of DNSmasq.<br>
The service is still active (running) but one of the lines says:<br>
<br>
"dnsmasq[733]: using nameserver 8.8.8.8#53"<br>
"dnsmasq[733]: read /etc/hosts - 5 addresses"<br>
"dnsmasq[734]: Too few arguments."            </p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4674">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4674">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4673" name="comment4673" id="comment4673">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Roboberry" width="48">
				
				<span class="commentDate">
		    	Thursday, 02 November 2017 09:41		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Roboberry			    		    </span>

		    <p>Hi Dominaezzz, That sounds like DNSmasq is the issue. Have a look at the status with sudo systemctl status dnsmasq and also try sudo journalctl -xe<br>
This will tell you what is going on with it. During development of this I was getting the error; device not found wlan0. <br>
Double check that in /etc/dhcpcd.conf that the line added; interface wlan0 was not ending in a s, interfaces. You can guess how I know about that one :) and also double check the /etc/network/interfaces file has no device config in it.<br>
<br>
Let me know if that's not the issue and I will look into it further.</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4673">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4673">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4672" name="comment4672" id="comment4672">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Dominaezzz" width="48">
				
				<span class="commentDate">
		    	Thursday, 02 November 2017 01:44		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Dominaezzz			    		    </span>

		    <p>Hello,<br>
Thank you for your post, found it very useful. Have been struggling with this on Stretch for a while now.<br>
I followed the instructions on a fresh install of Stretch and the access point shows up on my computer but there's no internet connection and I can't ssh into the pi using the IP address.</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4672">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4672">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4671" name="comment4671" id="comment4671">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="roboberry" width="48">
				
				<span class="commentDate">
		    	Monday, 30 October 2017 21:47		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    roboberry			    		    </span>

		    <p>Hi Z, you're welcome. Thanks for confirming I didn't mess up the instructions :)</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4671">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4671">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4670" name="comment4670" id="comment4670">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Z" width="48">
				
				<span class="commentDate">
		    	Monday, 30 October 2017 21:39		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Z			    		    </span>

		    <p>Confirmed it works perfectly. Very well done! This made my day.</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4670">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4670">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4669" name="comment4669" id="comment4669">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Z" width="48">
				
				<span class="commentDate">
		    	Monday, 30 October 2017 20:52		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Z			    		    </span>

		    <p>Roboberry,<br>
<br>
Wow, thank you so much! I'm going to try it right now. I'll post back with any issues.</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4669">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4669">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4668" name="comment4668" id="comment4668">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="roboberry" width="48">
				
				<span class="commentDate">
		    	Monday, 30 October 2017 20:01		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    roboberry			    		    </span>

		    <p>Hi Z, The new script is now available, ran out of time at the weekend. This should get you up and running. Has been working fine for me :)</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4668">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4668">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4667" name="comment4667" id="comment4667">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Z" width="48">
				
				<span class="commentDate">
		    	Monday, 30 October 2017 04:51		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Z			    		    </span>

		    <p>Hey roboberry,<br>
<br>
Still no joy, that that might be due to the fact that I didn't start with a fresh pi install. Looking forward to the updated tutorial!</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4667">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4667">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4663" name="comment4663" id="comment4663">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="roboberry" width="48">
				
				<span class="commentDate">
		    	Thursday, 26 October 2017 23:31		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    roboberry			    		    </span>

		    <p>hi Stephane, Thanks, i'm glad you have found it useful. you must be using Raspbian Jessie as it worked. I plan on updating the article this weekend with some changes so it will work on Raspbian Stretch as well. So if you upgrade to Stretch at some point, you will need to change your setup.</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4663">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4663">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4660" name="comment4660" id="comment4660">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Stphane" width="48">
				
				<span class="commentDate">
		    	Thursday, 26 October 2017 09:44		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Stphane			    		    </span>

		    <p>Fantastic tutorial, thank you so much :) I didn't use the script cause I really just need the hotspot to use the pi as a local server to manage usb midi devices. I've set up an apache server, I just need to connect to the pi in wifi with my phone or tablet and I can interact in ssh or via the web server and some cgi.<br>
Great job!</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4660">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4660">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4658" name="comment4658" id="comment4658">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="roboberry" width="48">
				
				<span class="commentDate">
		    	Tuesday, 24 October 2017 11:37		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    roboberry			    		    </span>

		    <p>Hi Z, I think recent updates to Hostapd and WPA_Supplicant have fixed the issues I was having with Stretch as I have it all working straight after the updates. I have one minor fix to make and will update the articles. Hopefully by the end of the week.<br>
For your issue on Stretch it sounds like the Hotspot and Wifi are both active, i.e. Hostapd and Dnsmasq are conflicting with wpa_supplicant.<br>
for this setup to work on stretch remove all the device setup from /etc/network/interfaces so it only shows the default 5 lines at the top.<br>
then in /etc/dhcpcd.conf at the bottom enter interface wlan0<br>
<br>
Wpa_supplicant is now run with the dhcpcd service but the entry in the interfaces file also runs it.<br>
<br>
If that doesn't help then check back later this week and the full setup will be posted plus the extra tweaks to the scripts.</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4658">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4658">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4657" name="comment4657" id="comment4657">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Z" width="48">
				
				<span class="commentDate">
		    	Tuesday, 24 October 2017 07:53		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Z			    		    </span>

		    <p>Hey, great work here. As many have mentioned. Stretch is having some issues.<br>
<br>
I followed Popcorn's suggestion and changed a few lines in the code. However I'm still having issues getting the pi to connect to my home wifi.  It runs the AP fine, however whenever I turn on my home wifi, the AP disappears like normal, but it has trouble connecting to the home wifi.  It was able to reconnect once, however all other times I simply do not see it on my network.<br>
<br>
Anything you can suggest? Looking forward to that update for stretch! Thank you!</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4657">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4657">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4650" name="comment4650" id="comment4650">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Randall Burks" width="48">
				
				<span class="commentDate">
		    	Thursday, 19 October 2017 04:59		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Randall Burks			    		    </span>

		    <p>Have been successfully using your hotspot this year via SSH for development. I am very interested in the following:<br>
1: On starting RPi 3B-Pixel, it unconditionally creates hotspot.<br>
2: While OS is running, if RPi 3B-Pixel detects my Android Phone Hotstpot (which has internet connection), dump your hotspot and connect to my Android Phone Hotspot so that it can get to the internet.<br>
3: While running, if RPi 3B-Pixel does not detect my Android Phone Hotspot, restart your hotspot.<br>
4: Would be nice if RPi 3B-Pixel detects my ethernet on my home network with internet, it overrides everything and uses ethernet to get to internet and SSH through ethernet.<br>
<br>
Note that all year I have been using your older version with great success to access via SSH over your hotspot and over ethernet and over WiFi. I just can't figure out how to integrate 1 thru 4 above.  Any suggestions? This is very important for my project.<br>
<br>
Thank You<br>
BurksFamly</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4650">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4650">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4645" name="comment4645" id="comment4645">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Roboberry" width="48">
				
				<span class="commentDate">
		    	Wednesday, 11 October 2017 19:59		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Roboberry			    		    </span>

		    <p>Hi Valerio, for now you would need Jessie for this script to work as you need. Unfortunately the foundation only offers stretch so unless you have a backup you may find it hard to go back to Jessie.<br>
<br>
Lakshmi,<br>
I'm hoping to get it working soon as i want it working for myself as well. So hopefully a new script wont be too far away.<br>
<br>
Graeme</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4645">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4645">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4644" name="comment4644" id="comment4644">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Lakshmi Narasimman " width="48">
				
				<span class="commentDate">
		    	Wednesday, 11 October 2017 16:41		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Lakshmi Narasimman 			    		    </span>

		    <p>Is fix ready for raspbian  stretch</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4644">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4644">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4643" name="comment4643" id="comment4643">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Valerio" width="48">
				
				<span class="commentDate">
		    	Tuesday, 10 October 2017 18:57		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Valerio			    		    </span>

		    <p>.... apologies, I just went through the script and noticed a new bit at the end to disable the script :)</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4643">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4643">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4642" name="comment4642" id="comment4642">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Valerio" width="48">
				
				<span class="commentDate">
		    	Tuesday, 10 October 2017 18:46		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Valerio			    		    </span>

		    <p>Hi Graeme, <br>
<br>
Thanks for your reply! Essentially you're right, it turns out I'm using stretch and not jessie. However the script works in the sense that the RPi does set up its own hotspot and I can VNC into it (and WinSCP files to and from the RPi), which is what I needed it to do. <br>
<br>
However I now need to download some Arduino packages which require an internet connection, and this is where problems begin: I never quite checked whether the RPi could connect to a wifi on top of setting up the hotspot (the wifi at work is a bit of a nightmare for that), but I don't even see available networks on the RPi and just plugging in an ethernet cable makes no difference.  <br>
<br>
I have tried the first troubleshooting example, but it didn't make a difference (and I suppose it won't if I'm using Stretch)<br>
Also, when I run the sudo /usr/bin/autohotspotN command, I get "Hotspot already active"<br>
<br>
... so long story short, the script does the main thing I wanted it to do (the hotspot), but is there a way to 'temporarily' undo the changes described on this page, get the 'original' connectivity, download what I need and then 're-activate' the hotspot set up? One obvious way would be to follow the changes described here in reverse, but I was wondering if there was a quicker way.<br>
<br>
Also, can I just choose to install Raspbian Jessie as opposed to Raspbian Stretch if I were to re-install the OS? By the way, I'm using a RPi 3 Model B.<br>
<br>
Thanks again! In the meantime I will make the changes to the interfaces file<br>
<br>
Valerio</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4642">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4642">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4640" name="comment4640" id="comment4640">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Roboberry" width="48">
				
				<span class="commentDate">
		    	Sunday, 08 October 2017 21:10		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Roboberry			    		    </span>

		    <p>Hi Popcorn, im glad you find the script useful. Thanks for the update. I have not had a lot of luck getting this working in Stretch, it didn't help that the call wpa_cli status just returns disconnected which was causing me problems so seeing that it works with wpa_cli -i wlan0 status solves part of my issue thank you.<br>
<br>
I have been working on the other script, direct access, but the suggestion you make are not working. The hotspot just won't come to life even though everything is running and in place.<br>
Stretch uses the dhcpcd service for network and wpa_supplicant is triggered with that so the /network/interfaces file should be blank. Ifup and ifdown use the interfaces file so wont work if the interfaces file is blank. Also for this script some of the settings in the interfaces file are not required so i updated it a few days ago. Also on stretch the wpa-conf line should be removed otherwise wpa_supplicant will be run twice.<br>
<br>
Is your version of stretch a new image or an upgrade of jessie? If you upgraded some Jessie features are available that may help this work that wont on a new image.<br>
<br>
I was starting to write a new script from scratch but i can have another go at a fix as it works on your setup at least.<br>
<br>
Roboberry</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4640">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4640">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4639" name="comment4639" id="comment4639">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Popcorn" width="48">
				
				<span class="commentDate">
		    	Sunday, 08 October 2017 00:13		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Popcorn			    		    </span>

		    <p>Hi Jeff,<br>
<br>
I'm using Raspbian Stretch and I was able to fix this intermittent "Failed to connect to non-global ctrl_ifname: (nil) error".  For some reason, wpa_supplicant needs a full cycle when switching wifi configurations or else it randomly does that.   So I added the following in the autohotspotN script:<br>
<br>
In the function called createAdHocNetwork(), add the following on the line after the opening "{" character<br>
<br>
    ifdown wlan0<br>
    ifup wlan0<br>
<br>
And also in the function called KillHotspot() add the following after the line "ip link set dev wlan0 down"<br>
<br>
    ifdown wlan0<br>
    ifup wlan0<br>
<br>
I also made one more change because wpa_cli was intermittently reporting a strange interface called "p2p-dev-wlan0" so this was causing a false negative situation that made the script think that the wifi connection couldn't be established causing the hotspot to reactivate.<br>
<br>
Look in the function called ChkWifiUp() and change this line:<br>
<br>
if ! wpa_cli status | grep 'ip_address' &gt;/dev/null 2&gt;&amp;1<br>
<br>
with this line:<br>
<br>
if ! wpa_cli -i wlan0 status | grep 'ip_address' &gt;/dev/null 2&gt;&amp;1<br>
<br>
That explicitly requests the wlan0 interface.<br>
<br>
After those changes, the script is working pretty great on Raspbian Stretch.  Thanks for the great script, Roboberry.  This has helped me (and apparently many others) immensely.  Kudos to you for the hard and detailed work!</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4639">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4639">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4637" name="comment4637" id="comment4637">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Roboberry" width="48">
				
				<span class="commentDate">
		    	Friday, 06 October 2017 20:23		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Roboberry			    		    </span>

		    <p>Hi Valerio, firstly I have made a change to the interfaces file. I thought I had done this weeks ago but clearly not. So can you also change your interface file, not that it will have caused your issue it's just is no longer required.<br>
<br>
The two lines with a cross means your wifi is down, which is usually because of configuration issues. You say "it worked beautifully" so does this mean it was working at some point, both network wifi and hotspot?<br>
<br>
Have you tried the first example in the trouble shooting section at the bottom of the guide?<br>
<br>
also if you open a terminal window and enter sudo /usr/bin/autohotspotN  what happens?<br>
<br>
and also just to confirm did you enter the commend in the red text, lsb_release -a ,and did it show the name Jessie? if it didn't show Jessie but showed Stretch then this script won't work for you. I'm still looking into a solution for Stretch but I think it will need a new script.<br>
Let me know how you get on and I will look into the issue further.<br>
<br>
Graeme</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4637">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4637">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4636" name="comment4636" id="comment4636">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Valerio" width="48">
				
				<span class="commentDate">
		    	Friday, 06 October 2017 11:55		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Valerio			    		    </span>

		    <p>Hello,<br>
<br>
First and foremost thanks for the scripts and instructions - it works beautifully. However I now don't seem able to connect to the internet via ethernet cable anymore, and I also see the icon with the two parallel lines and the red crosses. Any tips?<br>
I am new to RPi, so apologies if it's very obvious. <br>
<br>
Thanks,<br>
<br>
Valerio</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4636">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4636">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even authorResponse">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4586" name="comment4586" id="comment4586">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/10.jpg" alt="Graeme" width="48">
				
				<span class="commentDate">
		    	Sunday, 24 September 2017 09:03		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    <a href="http://www.raspberryconnect.com/network/itemlist/user/269-graeme" title="Graeme" target="_blank" rel="nofollow">
			    	Graeme			    </a>
			    		    </span>

		    <p>Hi Jeff<br>
<br>
It looks like you are using Raspbian Stretch. The script currently is not working on stretch due to changes in the network setup. Works fine on Jessie<br>
<br>
I'm working on a fix but it is unstable at the moment.</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4586">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4586">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4584" name="comment4584" id="comment4584">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Jeff Hagedorn" width="48">
				
				<span class="commentDate">
		    	Sunday, 24 September 2017 03:08		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Jeff Hagedorn			    		    </span>

		    <p>$ sudo wpa_cli status<br>
Failed to connect to non-global ctrl_ifname: (nil)  error: No such file or directory<br>
<br>
On a RPi-ZeroW, so ChkWifiUp :<br>
if ! wpa_cli status | grep 'ip_address' &gt;/dev/null 2&gt;&amp;1<br>
<br>
Will always fail.. :(</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4584">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4584">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even authorResponse">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4512" name="comment4512" id="comment4512">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/10.jpg" alt="Graeme" width="48">
				
				<span class="commentDate">
		    	Friday, 08 September 2017 09:48		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    <a href="http://www.raspberryconnect.com/network/itemlist/user/269-graeme" title="Graeme" target="_blank" rel="nofollow">
			    	Graeme			    </a>
			    		    </span>

		    <p>Hi Jon, the wifi network should be available before the desktop comes up, but that is a bit slow.<br>
With wpa_cli checking for ssid you will get true even if the connection has not been made as the ssid will be broadcast. The ip_address check is used because that isn't available until a valid connection to the router has been made. If no ip_address line appears in 10 seconds, or in your case 60 seconds, then it falls back to a hotspot. Using the ssid check will not cause it to fall back to the hotspot if a connection to the router is not successful. This solves the issue if a wifi password is wrong the router connection fails so no IP is issued. The script gives control back to the hotspot.<br>
<br>
Not sure about wpa_cli using the 50.5 ip while scanning. I It should be as long as wlan0 is up it should be able to see SSIDs, Mac addresses and react regardless of IP.<br>
Check that you haven't got both the hotspot and network active as network will take priority.<br>
check sudo systemctl status hostapd and sudo systemctl status dnsmasq. These should be inactive dead if wifi network is active. If they are "Active" the wpa_cli should show "Failed to connect to non-global....." if you get a response then there is an issue in the script as they both shouldn't be up at the same time.</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4512">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4512">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4508" name="comment4508" id="comment4508">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Jon Wagner" width="48">
				
				<span class="commentDate">
		    	Friday, 08 September 2017 01:14		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Jon Wagner			    		    </span>

		    <p>Hello again.<br>
Update / correction on my previous message.<br>
I ran into more issues I have them resolved and have all now running with the interfaces section commented out.<br>
1) When trying to connect to a hidden network, my Pi takes a long time. Connection 40 seconds after desktop comes up. Solved by replacing sleep 10 with sleep 60.<br>
2) Script would no longer start AP. wpa_cli shows status "Scanning" with the 50.5 ip address. The test "wpa_cli status | grep "ip_address" is always true. I don't understand why this started happening after my initial tests. Fixed with changing from grep "ip_address" to grep "ssid".<br>
<br>
I have not tried if commenting the interfaces file resolved the above problems.</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4508">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4508">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even authorResponse">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4504" name="comment4504" id="comment4504">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/10.jpg" alt="Graeme" width="48">
				
				<span class="commentDate">
		    	Thursday, 07 September 2017 20:22		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    <a href="http://www.raspberryconnect.com/network/itemlist/user/269-graeme" title="Graeme" target="_blank" rel="nofollow">
			    	Graeme			    </a>
			    		    </span>

		    <p>Hi Jon, ok thats a bit odd, my interfaces file looks like this now <br>
<br>
auto lo wlan0<br>
iface lo inet loopback<br>
<br>
iface eth0 inet manual<br>
<br>
allow-hotplug wlan0<br>
#iface wlan0 inet manual<br>
#    wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf<br>
<br>
allow-hotplug wlan1<br>
iface wlan1 inet manual<br>
    wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf<br>
<br>
and so far seems to be working fine with no mods to anything else.<br>
<br>
Couple of suggestions for what you are doing that may be of use, either strip out the first part of the the first part of the main IF section and keep the bit within Else and the bottom, not including ELSE. easier option is duplicate autohotspotN and rename to autohotspotN2. <br>
Change the wpa_supplicant -B -i wlan0 -c /etc/wpa_supplicant/wpa_supplicant.conf line so wpa_supplicant.conf is wpa_supplicant2.conf. <br>
create a blank file as wpa_supplicant2.conf in the same path. when signal is high run the new autohotspotN2 file. No wifi will be found and it will go to a hotspot. Then you can still run the original autohotspotN to go back to wifi if needed.<br>
<br>
Yes I will be updating this to work with Stretch soon as I will need it work with it as well before I upgrade myself.</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4504">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4504">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4503" name="comment4503" id="comment4503">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Jon Wagner" width="48">
				
				<span class="commentDate">
		    	Thursday, 07 September 2017 18:26		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Jon Wagner			    		    </span>

		    <p>Hi Graeme<br>
I commented out the the static section in the interface file. AP works fine but Pi no longer connects to home WiFi. Also tried with un-comment the iface and wpa_conf lines. Same result. And finally removed the wlan0 from the auto line. Again no connection to home WiFi. I can work with script as-is, so no need to do any further work.<br>
I want to expand the script to read a digital input and on high force AP even if home WiFi in range. Will let you know that worked.<br>
P.S. Do you plan to get this working on Raspbian Stretch?</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4503">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4503">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even authorResponse">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4499" name="comment4499" id="comment4499">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/10.jpg" alt="Graeme" width="48">
				
				<span class="commentDate">
		    	Wednesday, 06 September 2017 22:45		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    <a href="http://www.raspberryconnect.com/network/itemlist/user/269-graeme" title="Graeme" target="_blank" rel="nofollow">
			    	Graeme			    </a>
			    		    </span>

		    <p>Hi Jon, I made the hotspot ip static in the network interfaces as there was an issue using Ethernet in hotspot mode to get internet access of which that resolved the issue. The Hotspot IP being active in Network mode has had no issues in my experience, the routers issued ip is used. VNC reports the hotspot ip but will connect using the routers issued ip.<br>
 A secondary Ethernet issue was resolved, which may have been the real cause, so the iface wlan0 inet static section in the interfaces is probably not required. I have briefly tested it and seems to be working but not enough to make an update to the process yet. If you comment out that section in the interfaces file and test it you should find that it still works ok but i can't confirm that yet.<br>
Though this is being written on a pi in hotspot mode through an Ethernet connection :)</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4499">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4499">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4496" name="comment4496" id="comment4496">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Jon Wagner" width="48">
				
				<span class="commentDate">
		    	Wednesday, 06 September 2017 01:38		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Jon Wagner			    		    </span>

		    <p>Hello Graeme. Great functionality. All works as intended. I need some added functionality so I want to understand the script. My question is about the 'wpa_cli status' command. After running the script the RasPi is connected to my (hidden) home network. The wpa_cli status shows correct bssid and ssid. However the ip_address shows 192.168.50.5, the address of the access point.<br>
Why? What impact may that have?</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4496">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4496">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even authorResponse">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4465" name="comment4465" id="comment4465">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/10.jpg" alt="Graeme" width="48">
				
				<span class="commentDate">
		    	Thursday, 31 August 2017 20:46		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    <a href="http://www.raspberryconnect.com/network/itemlist/user/269-graeme" title="Graeme" target="_blank" rel="nofollow">
			    	Graeme			    </a>
			    		    </span>

		    <p>Hi Andreas, If you can't see the ssid being broadcast then hostapd is the issue. check the status with sudo systemctl status -l hostapd see if there are any errors as it sounds like it fails to start. <br>
 <br>
The autohotspot service only runs once at boot up so to run the script again just use sudo /usr/bin/autohotspoN <br>
After it fails as boot can you run the above line and let me know what feedback it gives and what happens and I will look into it further.</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4465">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4465">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4460" name="comment4460" id="comment4460">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Andreas" width="48">
				
				<span class="commentDate">
		    	Wednesday, 30 August 2017 23:05		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Andreas			    		    </span>

		    <p>Hello, I followed the instructions on a RPi 3 running Raspbian Jessie, connected to my router via ethernet cable.<br>
<br>
When testing the hotspot (by altering the router ssid in "wpa_supplicant.conf") I can ssh into the Pi by using the ethernet interface's ip. Running ifconfig, I see that wlan0 is up and has indeed taken ip 192.168.50.5. Also, checking "sudo systemctl status autohotspot.service" I see the service is running.However, I cannot see the hotspot ssid in my laptop or phone wifi.<br>
<br>
I managed to get it to work by stopping the service, ifdown-ing wlan0 and running the script manually. However, if I reboot, the same thing happens (basically, nothing). Any suggestions on what to do?</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4460">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4460">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even authorResponse">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4441" name="comment4441" id="comment4441">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/10.jpg" alt="Graeme" width="48">
				
				<span class="commentDate">
		    	Sunday, 27 August 2017 13:40		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    <a href="http://www.raspberryconnect.com/network/itemlist/user/269-graeme" title="Graeme" target="_blank" rel="nofollow">
			    	Graeme			    </a>
			    		    </span>

		    <p>Hi Zack, sorry for slow response, <br>
The password connect to the wifi hotspot is the one in hosapd.conf file, 1234567890 by defaults. Are you are using a wifi dongle? make sure it can do access point mode. If it doesn't it will be the issue. <br>
<br>
For my pi3 it will connect with a dynamic ip to my router but the hotspot needs to be static. The static ip is listed on the pi but always uses a dynamic ip for me</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4441">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4441">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4401" name="comment4401" id="comment4401">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Zack" width="48">
				
				<span class="commentDate">
		    	Tuesday, 22 August 2017 05:26		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Zack			    		    </span>

		    <p>Hi - terrific script and tutorial. Many thanks. <br>
<br>
Running into two issues. <br>
#1: Can see the hotspot in wifi networks but keeps saying password is incorrect. I confirmed it many times.<br>
<br>
<br>
#2: Instead of a static IP when the pi connects to my wifi network, can it just get and use a dynamic IP?</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4401">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4401">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even authorResponse">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4342" name="comment4342" id="comment4342">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/10.jpg" alt="Graeme" width="48">
				
				<span class="commentDate">
		    	Friday, 11 August 2017 14:05		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    <a href="http://www.raspberryconnect.com/network/itemlist/user/269-graeme" title="Graeme" target="_blank" rel="nofollow">
			    	Graeme			    </a>
			    		    </span>

		    <p>Hi ahasbini, During development of the script, I tried various combinations between setting the details in the script and in the interfaces file. This setup was the most stable setup to switch modes with. In network mode the ip is from the router, though the static ip is listed, and Ethernet routing works in hotspot mode.<br>
<br>
ipconfig is depreciated so not an option, ip is used now.<br>
<br>
The script is stable and working fine for me but I do plan on doing additional work on the script so I will look at it again then, as I need to finish a different project first.<br>
Thanks for your comment :)</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4342">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4342">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4338" name="comment4338" id="comment4338">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="ahasbini" width="48">
				
				<span class="commentDate">
		    	Thursday, 10 August 2017 20:59		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    ahasbini			    		    </span>

		    <p>Hey Graeme,<br>
<br>
Thanks for the post, was looking for that recently and was glad to find one.<br>
<br>
I have a question though, I see that the wlan0 is being set to a static ip within the interfaces file, meaning on boot it will be the static ip automatically. I think it might not be necessary as I tried reading the script and see that if it is setting the IP while switching. Could you explain a bit on why that is needed? The reason why I am asking is because I once got RPi3 to hotspot an ethernet internet connection, and had to set the IP just by using ifconfig.<br>
<br>
Here's the link: <a target="_blank" rel="nofollow" href="http://elinux.org/RPI-Wireless-Hotspot">http://elinux.org/RPI-Wireless-Hotspot</a><br>
<br>
It states that if you want things automatic upon boot then alter the interfaces file, if not just use ifconfig to statically set the ip address of wlan0.<br>
<br>
Looking forward,<br>
Thanks :)</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4338">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4338">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even authorResponse">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4302" name="comment4302" id="comment4302">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/10.jpg" alt="Graeme" width="48">
				
				<span class="commentDate">
		    	Tuesday, 01 August 2017 20:52		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    <a href="http://www.raspberryconnect.com/network/itemlist/user/269-graeme" title="Graeme" target="_blank" rel="nofollow">
			    	Graeme			    </a>
			    		    </span>

		    <p>Hi Jogi, I have run my pi through a few swaps between network and hotspot and am not able to replicate your issue. Is this still an issue after a reboot?<br>
This issue seems to be due to dns cache which is not available as standard. Can you see if you have nscd installed, in terminal enter sudo dpkg -s nscd   it should say it is not installed. If it is installed that is probably your issue.<br>
<br>
You can also make sure that the dnsmasq.conf file exactly matches the one in the article. <br>
While in wifi mode enter sudo systemctl status -l dnsmasq  it should say it is Active: inactive (dead)<br>
<br>
If it is still active try disabling it again with sudo systemctl disable dnsmasq<br>
<br>
let me know if this helps. If not send me a few more details about what happens, is it an issue if you reboot between modes rather than run the autohotspot script,  are you using a PI3, do you connect a LAN cable in hotspot mode. Hopefully we can find the issue.</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4302">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4302">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4297" name="comment4297" id="comment4297">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Jogi" width="48">
				
				<span class="commentDate">
		    	Tuesday, 01 August 2017 14:01		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Jogi			    		    </span>

		    <p>Thanks for that great example. <br>
<br>
I face the following issue. The transition from Wifi into Hotspotmode works perfectly, but when I try to switch back (running the automode script again with a valid SSID) the networ connection is established and everything looks fine but when I try to access a webpage via the browser I receive the following error code ERR_NAME_Resolution_Failed.</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4297">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4297">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even authorResponse">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4286" name="comment4286" id="comment4286">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/10.jpg" alt="Graeme" width="48">
				
				<span class="commentDate">
		    	Sunday, 30 July 2017 20:11		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    <a href="http://www.raspberryconnect.com/network/itemlist/user/269-graeme" title="Graeme" target="_blank" rel="nofollow">
			    	Graeme			    </a>
			    		    </span>

		    <p>Hi Ojas, I would guess if you can't enable it then the file name is wrong of it is not in the correct folder. what message are you getting when you try to enable it? <br>
firstly double check the file exist in the correct location. in terminal enter ls /etc/systemd/system/ you should see autohotspot.service listed. if it is check the spelling if it is not then just create the file again from the guide.<br>
<br>
If autohotspot.service does exist but sudo systemctl enable autohotspot.service is not working then double check the content of the file is ok.<br>
<br>
enableing it means it will start at boot up. you can run the service manually and see if you get any issues. Enter sudo systemctl start autohotspot <br>
then enter sudo systemctl status -l autohotspot it should give you details of the issue.<br>
<br>
If no luck let me know the details of what is happening and I will look into it further.</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4286">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4286">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4285" name="comment4285" id="comment4285">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Ojas" width="48">
				
				<span class="commentDate">
		    	Sunday, 30 July 2017 11:03		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Ojas			    		    </span>

		    <p>Hello............ thanks for this great tutorial.<br>
But I am not able to ebable the autohotspot.service file on my raspberry pi 3. What should I do? <br>
Please help me.</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4285">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4285">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even authorResponse">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4261" name="comment4261" id="comment4261">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/10.jpg" alt="Graeme" width="48">
				
				<span class="commentDate">
		    	Monday, 24 July 2017 00:37		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    <a href="http://www.raspberryconnect.com/network/itemlist/user/269-graeme" title="Graeme" target="_blank" rel="nofollow">
			    	Graeme			    </a>
			    		    </span>

		    <p>Hi Logan, I presume you are connecting on Hotspot mode. Which it will use 192.168.50.5::5900 but it looks like your VNC is configured to use ::5902. You can see which port it is set to in the connection settings on real vnc on the pi. <br>
I have just connected my self using real vnc viewer on a android tablet. My one is setup for ::5900 or :0 so connected fine after a reboot so, im not getting an issue at reboot. <br>
What I have noticed though is when the Pi is connected to the network the Real VNC window show ip address 192.168.50.5 which is wrong. It should be the ip your router issues. in my case 192.168.0.26 and port 5900.<br>
<br>
I think you are getting blank screen because the port has changed, every time you run vncserver it opens a new channel. If the old channel has closed then you won't be able to connect to it. <br>
I did run vncserver 3 times and got 3 new channels but was still able to connect to ::0 as it didnt close. At bootup the channel should be ::0 (::5900) so that should be the one to use<br>
<br>
When you are connected to a router use the ip shown in the Real VNC window under "other ways to connect" that is from your router and not 192.168.50.5<br>
<br>
When you are in hotspot mode use 192.168.50.5<br>
<br>
let me know how you get on.</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4261">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4261">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4260" name="comment4260" id="comment4260">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="Logan" width="48">
				
				<span class="commentDate">
		    	Sunday, 23 July 2017 17:58		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    Logan			    		    </span>

		    <p>For the record I have VNC configured through raspi-config to be enabled at start.<br>
<br>
When I try to VNC into my Pi using the provided IP above (192.168.50.5::5900) it only shows a black screen and white cursor. Im using RealVNC that comes with Pixel and Im using VNC Viewer on my android device. <br>
<br>
However if I run the command vncserver it provides with a different IP address that looks like this 192.XXX.X.X:2. If I then add that IP to my VNC viewer I can see the desktop and control the Pi. However if I reboot and try to connect again to the VNC viewer I get the error about failed port communication. Somthing like "the port on which the computer is listening for a connection could not be contacted".<br>
<br>
When that occurs, if I run the command vncserver again, I am able to connect but not with the IP provided above, only from the one provided by vncserver command. I suppose as a work around I could write a script that runs vncserver after boot but I thought I was already doing that by having it configured to start on boot through raspi-config.<br>
<br>
More pressing, why am I getting the black screen with white cursor. I am also configured to boot to desktop and be logged in. Any thoughts?</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4260">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4260">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="even authorResponse">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4249" name="comment4249" id="comment4249">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/10.jpg" alt="Graeme" width="48">
				
				<span class="commentDate">
		    	Thursday, 20 July 2017 19:49		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    <a href="http://www.raspberryconnect.com/network/itemlist/user/269-graeme" title="Graeme" target="_blank" rel="nofollow">
			    	Graeme			    </a>
			    		    </span>

		    <p>Hi manny, I wouldn't like to say if you can or can't without trying. But in principal I would think yes. In hotspot mode you can have a device connected via ssh and another connected via VNC. So server client setups work. You will also be able to control kodi through the web server set-up in hotspot mode. <br>
<br>
<br>
If you try it out I would be interested to know how you get on.</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4249">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4249">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	    <li class="odd">

	    	<span class="commentLink">
		    	<a href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#comment4233" name="comment4233" id="comment4233">
		    		Comment Link		    	</a>
		    </span>

								<img src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/user.png" alt="manny" width="48">
				
				<span class="commentDate">
		    	Thursday, 20 July 2017 03:45		    </span>

		    <span class="commentAuthorName">
			    posted by			    			    manny			    		    </span>

		    <p>Is it possible to use Kodi installed on Raspbian Jessie while running the RPI3 in hotspot mode so that one can control playback and use the pi as a DLNA media renderer over the same wifi from another device connected to the pi? I'm trying to eliminate a router in my car setup and use the pi as a media server and DLNA DMR while also being the router.</p>

								<span class="commentToolbar">
					
					

					<a class="modal" rel="{handler:'iframe',size:{x:600,y:480}}" href="http://www.raspberryconnect.com/network/comments/report?commentID=4233">Report</a>
					
<!-- non modal report comment link
					<a href="/network/comments/report?commentID=4233">Report</a>
					-->
					
										
				</span>
		

				<div class="clr"></div>
	    </li>
	    	  </ul>

	  <div class="itemCommentsPagination">
	  		  	<div class="clr"></div>
	  </div>
		
		
	  
  </div>
  
		<div class="itemBackToTop">
		<a class="k2Anchor" href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet#startOfPageId330">
			back to top		</a>
	</div>
	
	<div class="clr"></div>
</div>
<!-- End K2 Item Layout -->

<!-- JoomlaWorks "K2" (v2.7.1) | Learn more about K2 at http://getk2.org -->



                                                </div><!-- end main -->

                                        </div><!-- end wrapper -->

                                                                        <h2 class="unseen">
                                                Additional information                                        </h2>
                                       <!-- Disable right menu collapse option 3 of 3
                          see http://www.cmsmind.com/joomla-2-5-tutorial-how-to-remove-the-close-info-open-info-in-beez-20/ for removed code -->


                                        <div id="right" role="contentinfo">
                                                <a id="additional"></a>
                                                <div class="moduletable">
 <h3><span class="backh"><span class="backh2"><span class="backh3">Cookie Policy</span></span></span></h3>
 

<div class="custom">
	<p><span style="font-size: 0.8em;">Cookies are in use. By continuing to use this website you consent to their use. More details <a href="http://www.raspberryconnect.com/component/content/article/13-base-menu/3-cookies">Cookie Policy</a></span></p></div>
</div>

                                                <div class="moduletable">
 <h3><span class="backh"><span class="backh2"><span class="backh3">Advertising</span></span></span></h3>
 

<div class="custom">
	<div style="margin: 0 15px;">
<script async="" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/adsbygoogle.html"></script>
<!-- Rasp Right Side Bar -->
<ins class="adsbygoogle" style="display:inline-block;width:120px;height:600px" data-ad-client="ca-pub-3533837445035277" data-ad-slot="5682824771"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

</div></div>
</div>

                                                
                                        </div><!-- end right -->
                                        
                        
                                <div class="wrap"></div>

                                </div> <!-- end contentarea -->

                        </div><!-- back -->

                </div><iframe name="oauth2relay676001255" id="oauth2relay676001255" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/postmessageRelay.html" style="width: 1px; height: 1px; position: absolute; top: -100px;" tabindex="-1" aria-hidden="true"></iframe><!-- all -->

                <div id="footer-outer">
                                                <div id="footer-inner">

                                <div id="bottom">
                                        <div class="box box1"> <div class="moduletable">
 <h3><span class="backh"><span class="backh2"><span class="backh3">Latest Articles</span></span></span></h3>
 
<div id="k2ModuleBox114" class="k2ItemsBlock">

	
	  <ul>
        <li class="even">

      <!-- Plugins: BeforeDisplay -->
      
      <!-- K2 Plugins: K2BeforeDisplay -->
      
      
            <a class="moduleItemTitle" href="http://www.raspberryconnect.com/network/item/333-raspberry-pi-hotspot-access-point-dhcpcd-method">Raspberry Pi - Hotspot/Access Point dhcpcd method</a>
      
      
      <!-- Plugins: AfterDisplayTitle -->
      
      <!-- K2 Plugins: K2AfterDisplayTitle -->
      
      <!-- Plugins: BeforeDisplayContent -->
      
      <!-- K2 Plugins: K2BeforeDisplayContent -->
      
      
      
      <div class="clr"></div>

      
      <div class="clr"></div>

      <!-- Plugins: AfterDisplayContent -->
      
      <!-- K2 Plugins: K2AfterDisplayContent -->
      
      
      
      
      
			
			
			
      <!-- Plugins: AfterDisplay -->
      
      <!-- K2 Plugins: K2AfterDisplay -->
      
      <div class="clr"></div>
    </li>
        <li class="odd">

      <!-- Plugins: BeforeDisplay -->
      
      <!-- K2 Plugins: K2BeforeDisplay -->
      
      
            <a class="moduleItemTitle" href="http://www.raspberryconnect.com/network/item/331-raspberry-pi-auto-wifi-hotspot-switch-direct-connection">Raspberry Pi - Auto WiFi Hotspot Switch - Direct Connection</a>
      
      
      <!-- Plugins: AfterDisplayTitle -->
      
      <!-- K2 Plugins: K2AfterDisplayTitle -->
      
      <!-- Plugins: BeforeDisplayContent -->
      
      <!-- K2 Plugins: K2BeforeDisplayContent -->
      
      
      
      <div class="clr"></div>

      
      <div class="clr"></div>

      <!-- Plugins: AfterDisplayContent -->
      
      <!-- K2 Plugins: K2AfterDisplayContent -->
      
      
      
      
      
			
			
			
      <!-- Plugins: AfterDisplay -->
      
      <!-- K2 Plugins: K2AfterDisplay -->
      
      <div class="clr"></div>
    </li>
        <li class="even">

      <!-- Plugins: BeforeDisplay -->
      
      <!-- K2 Plugins: K2BeforeDisplay -->
      
      
            <a class="moduleItemTitle" href="http://www.raspberryconnect.com/network/item/330-raspberry-pi-auto-wifi-hotspot-switch-internet">Raspberry Pi - Auto WiFi Hotspot Switch Internet</a>
      
      
      <!-- Plugins: AfterDisplayTitle -->
      
      <!-- K2 Plugins: K2AfterDisplayTitle -->
      
      <!-- Plugins: BeforeDisplayContent -->
      
      <!-- K2 Plugins: K2BeforeDisplayContent -->
      
      
      
      <div class="clr"></div>

      
      <div class="clr"></div>

      <!-- Plugins: AfterDisplayContent -->
      
      <!-- K2 Plugins: K2AfterDisplayContent -->
      
      
      
      
      
			
			
			
      <!-- Plugins: AfterDisplay -->
      
      <!-- K2 Plugins: K2AfterDisplay -->
      
      <div class="clr"></div>
    </li>
        <li class="odd">

      <!-- Plugins: BeforeDisplay -->
      
      <!-- K2 Plugins: K2BeforeDisplay -->
      
      
            <a class="moduleItemTitle" href="http://www.raspberryconnect.com/pi-base/item/328-google-aiy-voice-hat-customise-voice-commands">Google AIY Voice HAT Customise Voice Commands</a>
      
      
      <!-- Plugins: AfterDisplayTitle -->
      
      <!-- K2 Plugins: K2AfterDisplayTitle -->
      
      <!-- Plugins: BeforeDisplayContent -->
      
      <!-- K2 Plugins: K2BeforeDisplayContent -->
      
      
      
      <div class="clr"></div>

      
      <div class="clr"></div>

      <!-- Plugins: AfterDisplayContent -->
      
      <!-- K2 Plugins: K2AfterDisplayContent -->
      
      
      
      
      
			
			
			
      <!-- Plugins: AfterDisplay -->
      
      <!-- K2 Plugins: K2AfterDisplay -->
      
      <div class="clr"></div>
    </li>
        <li class="even">

      <!-- Plugins: BeforeDisplay -->
      
      <!-- K2 Plugins: K2BeforeDisplay -->
      
      
            <a class="moduleItemTitle" href="http://www.raspberryconnect.com/network/item/327-raspberry-pi-auto-wifi-hotspot-switch">Raspberry Pi - Auto WiFi Hotspot Switch</a>
      
      
      <!-- Plugins: AfterDisplayTitle -->
      
      <!-- K2 Plugins: K2AfterDisplayTitle -->
      
      <!-- Plugins: BeforeDisplayContent -->
      
      <!-- K2 Plugins: K2BeforeDisplayContent -->
      
      
      
      <div class="clr"></div>

      
      <div class="clr"></div>

      <!-- Plugins: AfterDisplayContent -->
      
      <!-- K2 Plugins: K2AfterDisplayContent -->
      
      
      
      
      
			
			
			
      <!-- Plugins: AfterDisplay -->
      
      <!-- K2 Plugins: K2AfterDisplay -->
      
      <div class="clr"></div>
    </li>
        <li class="odd">

      <!-- Plugins: BeforeDisplay -->
      
      <!-- K2 Plugins: K2BeforeDisplay -->
      
      
            <a class="moduleItemTitle" href="http://www.raspberryconnect.com/pi-base/item/325-solar-panel-battery-charging-monitor">Solar Panel Battery Charging Monitor</a>
      
      
      <!-- Plugins: AfterDisplayTitle -->
      
      <!-- K2 Plugins: K2AfterDisplayTitle -->
      
      <!-- Plugins: BeforeDisplayContent -->
      
      <!-- K2 Plugins: K2BeforeDisplayContent -->
      
      
      
      <div class="clr"></div>

      
      <div class="clr"></div>

      <!-- Plugins: AfterDisplayContent -->
      
      <!-- K2 Plugins: K2AfterDisplayContent -->
      
      
      
      
      
			
			
			
      <!-- Plugins: AfterDisplay -->
      
      <!-- K2 Plugins: K2AfterDisplay -->
      
      <div class="clr"></div>
    </li>
        <li class="even">

      <!-- Plugins: BeforeDisplay -->
      
      <!-- K2 Plugins: K2BeforeDisplay -->
      
      
            <a class="moduleItemTitle" href="http://www.raspberryconnect.com/hardware-add-ons/item/324-tsl2561-luminosity-sensor-ir-and-visible-light">TSL2561 Luminosity Sensor &amp; Python (detect IR and visible light)</a>
      
      
      <!-- Plugins: AfterDisplayTitle -->
      
      <!-- K2 Plugins: K2AfterDisplayTitle -->
      
      <!-- Plugins: BeforeDisplayContent -->
      
      <!-- K2 Plugins: K2BeforeDisplayContent -->
      
      
      
      <div class="clr"></div>

      
      <div class="clr"></div>

      <!-- Plugins: AfterDisplayContent -->
      
      <!-- K2 Plugins: K2AfterDisplayContent -->
      
      
      
      
      
			
			
			
      <!-- Plugins: AfterDisplay -->
      
      <!-- K2 Plugins: K2AfterDisplay -->
      
      <div class="clr"></div>
    </li>
        <li class="odd lastItem">

      <!-- Plugins: BeforeDisplay -->
      
      <!-- K2 Plugins: K2BeforeDisplay -->
      
      
            <a class="moduleItemTitle" href="http://www.raspberryconnect.com/hardware-add-ons/item/323-picapture-video-capture-for-the-raspberry-pi">PiCapture - video capture for the Raspberry Pi</a>
      
      
      <!-- Plugins: AfterDisplayTitle -->
      
      <!-- K2 Plugins: K2AfterDisplayTitle -->
      
      <!-- Plugins: BeforeDisplayContent -->
      
      <!-- K2 Plugins: K2BeforeDisplayContent -->
      
      
      
      <div class="clr"></div>

      
      <div class="clr"></div>

      <!-- Plugins: AfterDisplayContent -->
      
      <!-- K2 Plugins: K2AfterDisplayContent -->
      
      
      
      
      
			
			
			
      <!-- Plugins: AfterDisplay -->
      
      <!-- K2 Plugins: K2AfterDisplay -->
      
      <div class="clr"></div>
    </li>
        <li class="clearList"></li>
  </ul>
  
	
	
</div>
</div>
</div>
                                        <div class="box box2"> <div class="moduletable">
 <h3><span class="backh"><span class="backh2"><span class="backh3">Latest Software</span></span></span></h3>
 
<div id="k2ModuleBox115" class="k2ItemsBlock">

	
	  <ul>
        <li class="even">

      <!-- Plugins: BeforeDisplay -->
      
      <!-- K2 Plugins: K2BeforeDisplay -->
      
      
            <a class="moduleItemTitle" href="http://www.raspberryconnect.com/software-utilities/item/318-easyeda_circuit_simulator_and_pcb_design_software">EasyEDA - Circuit simulator and PCB design software</a>
      
      
      <!-- Plugins: AfterDisplayTitle -->
      
      <!-- K2 Plugins: K2AfterDisplayTitle -->
      
      <!-- Plugins: BeforeDisplayContent -->
      
      <!-- K2 Plugins: K2BeforeDisplayContent -->
      
      
      
      <div class="clr"></div>

      
      <div class="clr"></div>

      <!-- Plugins: AfterDisplayContent -->
      
      <!-- K2 Plugins: K2AfterDisplayContent -->
      
      
      
      
      
			
			
			
      <!-- Plugins: AfterDisplay -->
      
      <!-- K2 Plugins: K2AfterDisplay -->
      
      <div class="clr"></div>
    </li>
        <li class="odd">

      <!-- Plugins: BeforeDisplay -->
      
      <!-- K2 Plugins: K2BeforeDisplay -->
      
      
            <a class="moduleItemTitle" href="http://www.raspberryconnect.com/gamessoftware/item/314-trying_out_opengl_on_raspberry_pi_3">Trying out OpenGL on Raspberry Pi 3</a>
      
      
      <!-- Plugins: AfterDisplayTitle -->
      
      <!-- K2 Plugins: K2AfterDisplayTitle -->
      
      <!-- Plugins: BeforeDisplayContent -->
      
      <!-- K2 Plugins: K2BeforeDisplayContent -->
      
      
      
      <div class="clr"></div>

      
      <div class="clr"></div>

      <!-- Plugins: AfterDisplayContent -->
      
      <!-- K2 Plugins: K2AfterDisplayContent -->
      
      
      
      
      
			
			
			
      <!-- Plugins: AfterDisplay -->
      
      <!-- K2 Plugins: K2AfterDisplay -->
      
      <div class="clr"></div>
    </li>
        <li class="even">

      <!-- Plugins: BeforeDisplay -->
      
      <!-- K2 Plugins: K2BeforeDisplay -->
      
      
            <a class="moduleItemTitle" href="http://www.raspberryconnect.com/communication/item/168-dire_wolf">Dire Wolf</a>
      
      
      <!-- Plugins: AfterDisplayTitle -->
      
      <!-- K2 Plugins: K2AfterDisplayTitle -->
      
      <!-- Plugins: BeforeDisplayContent -->
      
      <!-- K2 Plugins: K2BeforeDisplayContent -->
      
      
      
      <div class="clr"></div>

      
      <div class="clr"></div>

      <!-- Plugins: AfterDisplayContent -->
      
      <!-- K2 Plugins: K2AfterDisplayContent -->
      
      
      
      
      
			
			
			
      <!-- Plugins: AfterDisplay -->
      
      <!-- K2 Plugins: K2AfterDisplay -->
      
      <div class="clr"></div>
    </li>
        <li class="odd">

      <!-- Plugins: BeforeDisplay -->
      
      <!-- K2 Plugins: K2BeforeDisplay -->
      
      
            <a class="moduleItemTitle" href="http://www.raspberryconnect.com/multi-media/item/157-picamera_python_library">picamera python library</a>
      
      
      <!-- Plugins: AfterDisplayTitle -->
      
      <!-- K2 Plugins: K2AfterDisplayTitle -->
      
      <!-- Plugins: BeforeDisplayContent -->
      
      <!-- K2 Plugins: K2BeforeDisplayContent -->
      
      
      
      <div class="clr"></div>

      
      <div class="clr"></div>

      <!-- Plugins: AfterDisplayContent -->
      
      <!-- K2 Plugins: K2AfterDisplayContent -->
      
      
      
      
      
			
			
			
      <!-- Plugins: AfterDisplay -->
      
      <!-- K2 Plugins: K2AfterDisplay -->
      
      <div class="clr"></div>
    </li>
        <li class="even">

      <!-- Plugins: BeforeDisplay -->
      
      <!-- K2 Plugins: K2BeforeDisplay -->
      
      
            <a class="moduleItemTitle" href="http://www.raspberryconnect.com/operating-system-s/item/143-noobs-new-out-of-the-box-software">Noobs - New Out of The Box Software</a>
      
      
      <!-- Plugins: AfterDisplayTitle -->
      
      <!-- K2 Plugins: K2AfterDisplayTitle -->
      
      <!-- Plugins: BeforeDisplayContent -->
      
      <!-- K2 Plugins: K2BeforeDisplayContent -->
      
      
      
      <div class="clr"></div>

      
      <div class="clr"></div>

      <!-- Plugins: AfterDisplayContent -->
      
      <!-- K2 Plugins: K2AfterDisplayContent -->
      
      
      
      
      
			
			
			
      <!-- Plugins: AfterDisplay -->
      
      <!-- K2 Plugins: K2AfterDisplay -->
      
      <div class="clr"></div>
    </li>
        <li class="odd">

      <!-- Plugins: BeforeDisplay -->
      
      <!-- K2 Plugins: K2BeforeDisplay -->
      
      
            <a class="moduleItemTitle" href="http://www.raspberryconnect.com/software-internet/item/135-software-web-adjuster">Web Adjuster</a>
      
      
      <!-- Plugins: AfterDisplayTitle -->
      
      <!-- K2 Plugins: K2AfterDisplayTitle -->
      
      <!-- Plugins: BeforeDisplayContent -->
      
      <!-- K2 Plugins: K2BeforeDisplayContent -->
      
      
      
      <div class="clr"></div>

      
      <div class="clr"></div>

      <!-- Plugins: AfterDisplayContent -->
      
      <!-- K2 Plugins: K2AfterDisplayContent -->
      
      
      
      
      
			
			
			
      <!-- Plugins: AfterDisplay -->
      
      <!-- K2 Plugins: K2AfterDisplay -->
      
      <div class="clr"></div>
    </li>
        <li class="even">

      <!-- Plugins: BeforeDisplay -->
      
      <!-- K2 Plugins: K2BeforeDisplay -->
      
      
            <a class="moduleItemTitle" href="http://www.raspberryconnect.com/gamessoftware/item/127-sw-xinvaders3d-rpi">3D Space Invaders </a>
      
      
      <!-- Plugins: AfterDisplayTitle -->
      
      <!-- K2 Plugins: K2AfterDisplayTitle -->
      
      <!-- Plugins: BeforeDisplayContent -->
      
      <!-- K2 Plugins: K2BeforeDisplayContent -->
      
      
      
      <div class="clr"></div>

      
      <div class="clr"></div>

      <!-- Plugins: AfterDisplayContent -->
      
      <!-- K2 Plugins: K2AfterDisplayContent -->
      
      
      
      
      
			
			
			
      <!-- Plugins: AfterDisplay -->
      
      <!-- K2 Plugins: K2AfterDisplay -->
      
      <div class="clr"></div>
    </li>
        <li class="odd lastItem">

      <!-- Plugins: BeforeDisplay -->
      
      <!-- K2 Plugins: K2BeforeDisplay -->
      
      
            <a class="moduleItemTitle" href="http://www.raspberryconnect.com/gamessoftware/item/126-sw-beneath-a-steel-sky-rpi">Beneath a Steel Sky</a>
      
      
      <!-- Plugins: AfterDisplayTitle -->
      
      <!-- K2 Plugins: K2AfterDisplayTitle -->
      
      <!-- Plugins: BeforeDisplayContent -->
      
      <!-- K2 Plugins: K2BeforeDisplayContent -->
      
      
      
      <div class="clr"></div>

      
      <div class="clr"></div>

      <!-- Plugins: AfterDisplayContent -->
      
      <!-- K2 Plugins: K2AfterDisplayContent -->
      
      
      
      
      
			
			
			
      <!-- Plugins: AfterDisplay -->
      
      <!-- K2 Plugins: K2AfterDisplay -->
      
      <div class="clr"></div>
    </li>
        <li class="clearList"></li>
  </ul>
  
	
	
</div>
</div>
</div>
                                        <div class="box box3"> <div class="moduletable">
 <ul class="category-module">
						<li>
									<a class="mod-articles-category-title " href="http://www.raspberryconnect.com/component/content/article/13-base-menu/5-about-us?Itemid=101">
						About Us					</a>
					
					
					
					
					
					
							</li>
					<li>
									<a class="mod-articles-category-title " href="http://www.raspberryconnect.com/component/content/article/13-base-menu/6-contact-us?Itemid=101">
						Contact Us					</a>
					
					
					
					
					
					
							</li>
					<li>
									<a class="mod-articles-category-title " href="http://www.raspberryconnect.com/component/content/article/13-base-menu/3-cookies?Itemid=101">
						Cookie Usage					</a>
					
					
					
					
					
					
							</li>
					<li>
									<a class="mod-articles-category-title " href="http://www.raspberryconnect.com/component/content/article/13-base-menu/4-copyright?Itemid=101">
						Copyright Notice					</a>
					
					
					
					
					
					
							</li>
					<li>
									<a class="mod-articles-category-title " href="http://www.raspberryconnect.com/component/content/article/13-base-menu/7-help-and-faq?Itemid=101">
						Help and FAQ					</a>
					
					
					
					
					
					
							</li>
					<li>
									<a class="mod-articles-category-title " href="http://www.raspberryconnect.com/component/content/article/13-base-menu/8-privacy-policy?Itemid=101">
						Privacy Policy					</a>
					
					
					
					
					
					
							</li>
					<li>
									<a class="mod-articles-category-title " href="http://www.raspberryconnect.com/component/content/article/13-base-menu/12-article-submit?Itemid=101">
						Submit an article					</a>
					
					
					
					
					
					
							</li>
					<li>
									<a class="mod-articles-category-title " href="http://www.raspberryconnect.com/component/content/article/13-base-menu/1-terms?Itemid=101">
						Terms and Conditions					</a>
					
					
					
					
					
					
							</li>
			</ul>
</div>
<div class="moduletable">
 

<div class="custom">
	<iframe id="twitter-widget-0" scrolling="no" allowtransparency="true" class="twitter-follow-button twitter-follow-button-rendered" style="position: static; visibility: visible; width: 166px; height: 20px;" title="Twitter Follow Button" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/follow_button.html" data-screen-name="RaspberryConnec" frameborder="0"></iframe>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script></div>
</div>
</div>
                                </div>


                        </div>
                                
                        <div id="footer-sub">


                                <div id="footer">

                                        

<div class="custom">
	<p>&nbsp;</p>
<pre>Copyright RaspberryConnect                        RaspberryConnect is not associated with The Raspberry Pi Foundation in any way</pre>
<p>&nbsp;</p></div>

                                      <!-- Logo Off  <p>
                                                Powered by <a href="http://www.joomla.org/">Joomla!&#174;</a>
                                        </p> -->


                                </div><!-- end footer -->

                        </div>

                </div>
        
        

<iframe id="rufous-sandbox" scrolling="no" allowtransparency="true" allowfullscreen="true" style="position: absolute; visibility: hidden; display: none; width: 0px; height: 0px; padding: 0px; border: medium none;" title="Twitter analytics iframe" frameborder="0"></iframe><div style="background-color: #fff; border: 1px solid #ccc; box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.2); position: absolute; left: 0px; top: -10000px; transition: visibility 0s linear 0.3s, opacity 0.3s linear; opacity: 0; visibility: hidden; z-index: 2000000000;"><div style="width: 100%; height: 100%; position: fixed; top: 0px; left: 0px; z-index: 2000000000; background-color: #fff; opacity: 0.05;  filter: alpha(opacity=5)"></div><div class="g-recaptcha-bubble-arrow" style="border: 11px solid transparent; width: 0; height: 0; position: absolute; pointer-events: none; margin-top: -11px; z-index: 2000000000;"></div><div class="g-recaptcha-bubble-arrow" style="border: 10px solid transparent; width: 0; height: 0; position: absolute; pointer-events: none; margin-top: -10px; z-index: 2000000000;"></div><div style="z-index: 2000000000; position: relative;"><iframe title="recaptcha challenge" src="Raspberry%20Connect%20-%20Raspberry%20Pi%20-%20Auto%20WiFi%20Hotspot%20Switch%20Internet_files/bframe.html" style="width: 100%; height: 100%;" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox" name="snyni9okm1rh" frameborder="0"></iframe></div></div></body></html>